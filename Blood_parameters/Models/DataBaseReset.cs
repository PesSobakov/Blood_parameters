using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.Linq;
using System.Reflection.Emit;
using System.Reflection.Metadata;
using System.Text;
using System.Text.RegularExpressions;
using Blood_parameters.Models.Database;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Query.SqlExpressions;

namespace Blood_parameters.Models
{
    public class DataBaseReset
    {
        public static void ExecuteScript(string host)
        {
            BloodParametersContext db = new BloodParametersContext();

            //db.Database.EnsureDeleted();
            db.Database.EnsureCreated();

            //"Server=(localdb)\\mssqllocaldb;Database=Blood_parameters;Trusted_Connection=True;"
            //Scaffold-DbContext "Server=(localdb)\mssqllocaldb;Database=Blood_parameters;Trusted_Connection=True;" Microsoft.EntityFrameworkCore.SqlServer -OutputDir Models\TempDatabase
            string sql = @"use master
go
Alter database Blood_parameters set single_user with rollback immediate
go

if exists (select * from sys.databases where name='Blood_parameters')
    drop database Blood_parameters
go
 -- якщо бд, з таким ім'ям, існує видалити її

create database Blood_parameters -- створити БД
go
use Blood_parameters -- почати використання БД
go
-- таблиця

CREATE TABLE Doctors (
    id int IDENTITY(1,1) PRIMARY KEY,
    years_of_experience int,
    record_number nvarchar(10),
    surname nvarchar(25),
    name nvarchar(25),
    patronymic nvarchar(25),
    qualifications nvarchar(50),
    current_position nvarchar(30),
    education nvarchar(30),
    contact_phone nvarchar(20),
	photo varbinary(max)
);
go

INSERT INTO Doctors (years_of_experience, record_number, surname, name, patronymic, qualifications,  current_position, education, contact_phone)
VALUES 
   
(5, 'REC-121', 'Акіншева', 'Марина', 'Олексіївна', 'Cертифікований терапевт', 'Терапевт', 'Медичний інститут', '+380679876505'),
( 9, 'REC-122', 'Ковальчук', 'Олена', 'Миколаївна', 'Cертифікований терапевт',  'Терапевт', 'Вища медична освіта', '+380679876509'),
(25, 'REC-067', 'Петров', 'Олександр', 'Ігорович', 'Доктор медичних наук. Сертифікований терапевт', 'Завідуючий відділенням', 'Вища медична освіта', '+380679876507');
go

-- таблиця

CREATE TABLE Patients (
  id int IDENTITY(1,1) PRIMARY KEY,
  surname nvarchar(25),
  name nvarchar(25),
  patronymic nvarchar(25),
  dob date,
  gender nvarchar(1),
  phone nvarchar(20),
  address nvarchar(50),
  emergency_contact_surname nvarchar(25),
  emergency_contact_name nvarchar(25),
  emergency_contact_patronymic nvarchar(25),
  emergency_contact_phone nvarchar(20),
  doctor_id int,

  CONSTRAINT FK_Patients_doctors FOREIGN KEY (doctor_id)
  REFERENCES Doctors(id),
);

go

INSERT INTO Patients (surname, name, patronymic, dob, gender, phone, address, emergency_contact_surname, emergency_contact_name, emergency_contact_patronymic, emergency_contact_phone, doctor_id)
VALUES
   ('Абрам', 'Іван', 'Петрович',  '24-09-1967', 'ч', '+380501234567', 'м. Кривий Ріг, вул. Шевченка, 1', 'Абрам', 'Марія', 'Петрівна', '+380679876543', 1),
   ('Гук', 'Петро', 'Йосипович',  '18-08-1994', 'ч', '+380981112233', 'м. Кривий Ріг, вул. Сумська, 20', 'Гук', 'Оксана', 'Іванівна', '+380673334455', 2),
   ('Кравченко', 'Олексій', 'Федорович ', '03-07-1966', 'ч', '+380507778899', 'м. Кривий Ріг, вул. Сумська, 5', 'Кравченко', 'Ольга', 'Віталіївна', '+380672223344',  3),
   ('Вовк', 'Марія', 'Віталівна',  '22-09-1961', 'ж', '+380677654321', 'м. Кривий Ріг, вул. Франка, 10', 'Вовк', 'Петро', 'Іванович', '+380501112233',  1),
   ('Демченко', 'Олександра', 'Максимівна', '28-06-1967', 'ж', '+380507778811', 'м. Кривий Ріг, вул. Куліша, 3', 'Демченко', 'Петро', 'Іванович', '+380672223344',  2),
   ('Павлюк', 'Ігор', 'Андрійович',  '24-03-1957', 'ч', '+380674445566', 'м. Кривий Ріг, вул. Пушкінська, 10', 'Павлюк', 'Тетяна', 'Володимирівна', '+380507778899',  3),
   ('Гуменюк', 'Олег', 'Іванович', '14-06-1952', 'ч', '+380935556677', 'м. Кривий Ріг, вул. Січових Стрільців, 2', 'Гуменюк', 'Юлія', 'Іванівна', '+380672223344', 1),
   ('Козак', 'Віталій', 'Володимирович ', '17-05-1976', 'ч', '+380672223344', 'м. Кривий Ріг, вул. Хрещатик, 1', 'Козак', 'Олена', 'Миколаївна', '+380504445566', 2),
   ('Карпенко', 'Іван', 'Петрович', '05-04-1960', 'ч', '+380678889900', 'м. Кривий Ріг, вул. Приморська, 1', 'Карпенко', 'Наталія', 'Олександрівна', '+380988889100', 3),
   ('Круглова', 'Олена', 'Петрівна', '28-03-1944', 'ж', '+380973409900', 'м. Кривий Ріг, вул. Олейник, 10', 'Круглова', 'Ніна', 'Артемівна', '+380968889911', 2),
   ('Верхов', 'Марина', 'Григорівна',  '22-07-1959', 'ж', '+380967753321', 'м. Кривий Ріг, вул. Федорова, 15А', 'Верхов', 'Петро', 'Іванович', '+380961112233',  3),
   ('Щебрець', 'Артем', 'Андрійович', '10-05-1956', 'ч', '+380509896677', 'м. Кривий Ріг, вул. Героїв АТО, 2', 'Щебрець', 'Юлія', 'Іванівна', '+380672020344', 1),
   ('Сухий', 'Ігор', 'Федорович',  '17-05-1976', 'ч', '+380674040566', 'м. Кривий Ріг, вул. Столична, 5', 'Сухий', 'Тетяна', 'Володимирівна', '+380967676809',  2),
   ('Рудний', 'Олександр', 'Миколайович ', '06-09-1972', 'ч', '+380975409644', 'м. Кривий Ріг, вул. Мусорського, 30', 'Рудний', 'Ольга', 'Миколаївна', '+380964045056', 3),
   ('Богдан', 'Іван', 'Пилипович',  '09-05-1949', 'ч', '+380501804867', 'м. Кривий Ріг, вул. Морозенко, 8', 'Богдан', 'Аліна', 'Петрівна', '+380679070543', 1),
   ('Ваксов', 'Іван', 'Якович',  '18-04-1948', 'ч', '+380961814517', 'м. Кривий Ріг, вул. Всебратська, 3', 'Ваксов', 'Ганна', 'Ігорівна', '+380509171523', 2),
   ('Макк', 'Сергій', 'Йосипович',  '30-04-1992', 'ч', '+380981012033', 'м. Кривий Ріг, вул. Перемоги, 4', 'Маак', 'Оксана', 'Іванівна', '+380673134152', 3),
   ('Качупенко', 'Валентина', 'Сергіївна',  '24-07-1954', 'ж', '+380982407180', 'м. Кривий Ріг, вул. Горького, 61', 'Качупенко', 'Анастасія', 'Олегівна', '+380671420121', 1);

go


  CREATE TABLE Parameters (
  id int IDENTITY(1,1) PRIMARY KEY,
  name nvarchar(max) not null,
);

go

INSERT INTO Parameters (name)
VALUES
  ('Гемоглобін'),
  ('Еритроцити'),
  ('Лейкоцити'),
  ('ШОЕ'),
  ('Еозинофіли'),
  ('Паличкоядерні'),
  ('Сегментоядерні'),
  ('Лімфоцити'),
  ('Моноцити'),

  ('Глюкоза'),

  ('Холестерин'),

  ('Загальний білірубін'),
  ('Прямий білірубін'),
  ('Непрямий білірубін'),
  ('АЛТ'),
  ('АСТ'),
  ('Креатинін'),
  ('Сечовина'),

  ('Систолічний тиск'),
  ('Діастолічний тиск'),
  ('Частота пульсу')

go

-- таблиця

CREATE TABLE PatientsParameters (
 id int IDENTITY(1,1) PRIMARY KEY,
  patient_id int,
  parameter_id int,
  value float,
  date_of_check date,
  CONSTRAINT FK_PatientsParameters_Patients FOREIGN KEY (patient_id)
  REFERENCES Patients(id),
  CONSTRAINT FK_PatientsParameters_Parameters FOREIGN KEY (parameter_id)
  REFERENCES Parameters(id),
);

go

INSERT INTO PatientsParameters (patient_id, parameter_id, value, date_of_check)
VALUES

--GeneralBloodTest

  (1, 1, 138,  '13-05-2022'),
  (1, 2, 4.3,  '13-05-2022'),
  (1, 3, 6.8,  '13-05-2022'),
  (1, 4, 10,   '13-05-2022'),
  (1, 5, 0,    '13-05-2022'),
  (1, 6, 1,    '13-05-2022'),
  (1, 7, 73,   '13-05-2022'),
  (1, 8, 24,   '13-05-2022'),
  (1, 9, 2,    '13-05-2022'),

  (2, 1, 155, '25-05-2022'),
  (2, 2, 4.8, '25-05-2022'),
  (2, 3, 8.9, '25-05-2022'),
  (2, 4, 9,   '25-05-2022'),
  (2, 5, 0,   '25-05-2022'),
  (2, 6, 2,   '25-05-2022'),
  (2, 7, 29,  '25-05-2022'),
  (2, 8, 64,  '25-05-2022'),
  (2, 9, 5,   '25-05-2022'),

  (3, 1, 156, '04-05-2022'),
  (3, 2, 4.7, '04-05-2022'),
  (3, 3, 6.5, '04-05-2022'),
  (3, 4, 14,  '04-05-2022'),
  (3, 5, 0,   '04-05-2022'),
  (3, 6, 2,   '04-05-2022'),
  (3, 7, 46,  '04-05-2022'),
  (3, 8, 40,  '04-05-2022'),
  (3, 9, 12,  '04-05-2022'),

  (4, 1, 75,  '27-04-2022'),
  (4, 2, 2.8, '27-04-2022'),
  (4, 3, 5.2, '27-04-2022'),
  (4, 4, 52,  '27-04-2022'),
  (4, 5, 0,   '27-04-2022'),
  (4, 6, 6,   '27-04-2022'),
  (4, 7, 79,  '27-04-2022'),
  (4, 8, 14,  '27-04-2022'),
  (4, 9, 1,   '27-04-2022'),

  (4, 1, 76,  '02-05-2022'),
  (4, 2, 2.5, '02-05-2022'),
  (4, 3, 5.8, '02-05-2022'),
  (4, 4, 40,  '02-05-2022'),
  (4, 5, 1,   '02-05-2022'),
  (4, 6, 1,   '02-05-2022'),
  (4, 7, 70,  '02-05-2022'),
  (4, 8, 25,  '02-05-2022'),
  (4, 9, 3,   '02-05-2022'),

  (4, 1, 121,  '03-05-2022'),
  (4, 2, 3.9,  '03-05-2022'),
  (4, 3, 10.1, '03-05-2022'),
  (4, 4, 32,   '03-05-2022'),
  (4, 5, 0,    '03-05-2022'),
  (4, 6, 16,   '03-05-2022'),
  (4, 7, 67,   '03-05-2022'),
  (4, 8, 14,   '03-05-2022'),
  (4, 9, 2,    '03-05-2022'),

  (4, 1, 116, '04-05-2022'),
  (4, 2, 3.5, '04-05-2022'),
  (4, 3, 8.6, '04-05-2022'),
  (4, 4, 45,  '04-05-2022'),
  (4, 5, 0,   '04-05-2022'),
  (4, 6, 2,   '04-05-2022'),
  (4, 7, 82,  '04-05-2022'),
  (4, 8, 12,  '04-05-2022'),
  (4, 9, 4,   '04-05-2022'),

  (5, 1, 63,  '16-05-2022'),
  (5, 2, 2.5, '16-05-2022'),
  (5, 3, 3.7, '16-05-2022'),
  (5, 4, 15,  '16-05-2022'),
  (5, 5, 1,   '16-05-2022'),
  (5, 6, 2,   '16-05-2022'),
  (5, 7, 49,  '16-05-2022'),
  (5, 8, 47,  '16-05-2022'),
  (5, 9, 1,   '16-05-2022'),

  (5, 1, 63,  '17-05-2022'),
  (5, 2, 2.6, '17-05-2022'),
  (5, 3, 3.2, '17-05-2022'),
  (5, 4, 25,  '17-05-2022'),
  (5, 5, 0,   '17-05-2022'),
  (5, 6, 2,   '17-05-2022'),
  (5, 7, 68,  '17-05-2022'),
  (5, 8, 26,  '17-05-2022'),
  (5, 9, 4,   '17-05-2022'),

  (5, 1, 70,  '18-05-2022'),
  (5, 2, 2.3, '18-05-2022'),
  (5, 3, 8.4, '18-05-2022'),
  (5, 4, 19,  '18-05-2022'),
  (5, 5, 1,   '18-05-2022'),
  (5, 6, 2,   '18-05-2022'),
  (5, 7, 67,  '18-05-2022'),
  (5, 8, 29,  '18-05-2022'),
  (5, 9, 1,   '18-05-2022'),

  (5, 1, 89,   '19-05-2022'),
  (5, 2, 2.96, '19-05-2022'),
  (5, 3, 4.0,  '19-05-2022'),
  (5, 4, 28,   '19-05-2022'),
  (5, 5, 0,    '19-05-2022'),
  (5, 6, 3,    '19-05-2022'),
  (5, 7, 46,   '19-05-2022'),
  (5, 8, 48,   '19-05-2022'),
  (5, 9, 3,    '19-05-2022'),

  (5, 1, 78,   '24-05-2022'),
  (5, 2, 2.88, '24-05-2022'),
  (5, 3, 3.3,  '24-05-2022'),
  (5, 4, 46,   '24-05-2022'),
  (5, 5, 0,    '24-05-2022'),
  (5, 6, 2,    '24-05-2022'),
  (5, 7, 76,   '24-05-2022'),
  (5, 8, 22,   '24-05-2022'),
  (5, 9, 0,    '24-05-2022'),

  (5, 1, 90,  '24-05-2022'),
  (5, 2, 3.0, '24-05-2022'),
  (5, 3, 4.7, '24-05-2022'),
  (5, 4, 27,  '24-05-2022'),
  (5, 5, 1,   '24-05-2022'),
  (5, 6, 3,   '24-05-2022'),
  (5, 7, 68,  '24-05-2022'),
  (5, 8, 26,  '24-05-2022'),
  (5, 9, 2,   '24-05-2022'),

  (5, 1, 110, '25-05-2022'),
  (5, 2, 3.5, '25-05-2022'),
  (5, 3, 3.0, '25-05-2022'),
  (5, 4, 18,  '25-05-2022'),
  (5, 5, 0,   '25-05-2022'),
  (5, 6, 1,   '25-05-2022'),
  (5, 7, 73,  '25-05-2022'),
  (5, 8, 26,  '25-05-2022'),
  (5, 9, 0,   '25-05-2022'),

  (6, 1, 75,   '19-05-2022'),
  (6, 2, 2.58, '19-05-2022'),
  (6, 3, 13.0, '19-05-2022'),
  (6, 4, 84,   '19-05-2022'),
  (6, 5, 0,    '19-05-2022'),
  (6, 6, 2,    '19-05-2022'),
  (6, 7, 92,   '19-05-2022'),
  (6, 8, 4,    '19-05-2022'),
  (6, 9, 2,    '19-05-2022'),

  (6, 1, 120,  '19-05-2022'),
  (6, 2, 3.9,  '19-05-2022'),
  (6, 3, 13.8, '19-05-2022'),
  (6, 4, 53,   '19-05-2022'),
  (6, 5, 0,    '19-05-2022'),
  (6, 6, 19,   '19-05-2022'),
  (6, 7, 70,   '19-05-2022'),
  (6, 8, 8,    '19-05-2022'),
  (6, 9, 3,    '19-05-2022'),

  (6, 1, 115,  '20-05-2022'),
  (6, 2, 3.6,  '20-05-2022'),
  (6, 3, 16.2, '20-05-2022'),
  (6, 4, 47,   '20-05-2022'),
  (6, 5, 0,    '20-05-2022'),
  (6, 6, 7,    '20-05-2022'),
  (6, 7, 82,   '20-05-2022'),
  (6, 8, 8,    '20-05-2022'),
  (6, 9, 3,    '20-05-2022'),

  (7, 1, 76,  '05-05-2022'),
  (7, 2, 2.6, '05-05-2022'),
  (7, 3, 7.4, '05-05-2022'),
  (7, 4, 50,  '05-05-2022'),
  (7, 5, 0,   '05-05-2022'),
  (7, 6, 3,   '05-05-2022'),
  (7, 7, 69,  '05-05-2022'),
  (7, 8, 25,  '05-05-2022'),
  (7, 9, 3,   '05-05-2022'),

  (7, 1, 69,  '13-05-2022'),
  (7, 2, 2.6, '13-05-2022'),
  (7, 3, 2.8, '13-05-2022'),
  (7, 4, 55,  '13-05-2022'),
  (7, 5, 1,   '13-05-2022'),
  (7, 6, 5,   '13-05-2022'),
  (7, 7, 59,  '13-05-2022'),
  (7, 8, 30,  '13-05-2022'),
  (7, 9, 5,   '13-05-2022'),

  (7, 1, 73,   '18-05-2022'),
  (7, 2, 2.52, '18-05-2022'),
  (7, 3, 5.3,  '18-05-2022'),
  (7, 4, 52,   '18-05-2022'),
  (7, 5, 0,    '18-05-2022'),
  (7, 6, 2,    '18-05-2022'),
  (7, 7, 76,   '18-05-2022'),
  (7, 8, 22,   '18-05-2022'),
  (7, 9, 0,    '18-05-2022'),

  (7, 1, 82,  '18-05-2022'),
  (7, 2, 2.9, '18-05-2022'),
  (7, 3, 6.7, '18-05-2022'),
  (7, 4, 27,  '18-05-2022'),
  (7, 5, 2,   '18-05-2022'),
  (7, 6, 3,   '18-05-2022'),
  (7, 7, 73,  '18-05-2022'),
  (7, 8, 21,  '18-05-2022'),
  (7, 9, 1,   '18-05-2022'),

  (7, 1, 70,  '19-05-2022'),
  (7, 2, 2.6, '19-05-2022'),
  (7, 3, 5.2, '19-05-2022'),
  (7, 4, 77,  '19-05-2022'),
  (7, 5, 1,   '19-05-2022'),
  (7, 6, 2,   '19-05-2022'),
  (7, 7, 87,  '19-05-2022'),
  (7, 8, 8,   '19-05-2022'),
  (7, 9, 2,   '19-05-2022'),

  (8, 1, 68,  '17-05-2022'),
  (8, 2, 2.6, '17-05-2022'),
  (8, 3, 3.5, '17-05-2022'),
  (8, 4, 38,  '17-05-2022'),
  (8, 5, 1,   '17-05-2022'),
  (8, 6, 3,   '17-05-2022'),
  (8, 7, 67,  '17-05-2022'),
  (8, 8, 24,  '17-05-2022'),
  (8, 9, 5,   '17-05-2022'),

  (8, 1, 103, '17-05-2022'),
  (8, 2, 3.5, '17-05-2022'),
  (8, 3, 3.6, '17-05-2022'),
  (8, 4, 31,  '17-05-2022'),
  (8, 5, 0,   '17-05-2022'),
  (8, 6, 4,   '17-05-2022'),
  (8, 7, 72,  '17-05-2022'),
  (8, 8, 20,  '17-05-2022'),
  (8, 9, 4,   '17-05-2022'),

  (8, 1, 91,   '18-05-2022'),
  (8, 2, 3.28, '18-05-2022'),
  (8, 3, 4.4,  '18-05-2022'),
  (8, 4, 22,   '18-05-2022'),
  (8, 5, 0,    '18-05-2022'),
  (8, 6, 2,    '18-05-2022'),
  (8, 7, 78,   '18-05-2022'),
  (8, 8, 14,   '18-05-2022'),
  (8, 9, 6,    '18-05-2022'),

  (8, 1, 119, '19-05-2022'),
  (8, 2, 3.8, '19-05-2022'),
  (8, 3, 5.7, '19-05-2022'),
  (8, 4, 26,  '19-05-2022'),
  (8, 5, 0,   '19-05-2022'),
  (8, 6, 10,  '19-05-2022'),
  (8, 7, 83,  '19-05-2022'),
  (8, 8, 6,   '19-05-2022'),
  (8, 9, 1,   '19-05-2022'),

  (8, 1, 115, '20-05-2022'),
  (8, 2, 3.6, '20-05-2022'),
  (8, 3, 6.3, '20-05-2022'),
  (8, 4, 16,  '20-05-2022'),
  (8, 5, 0,   '20-05-2022'),
  (8, 6, 2,   '20-05-2022'),
  (8, 7, 74,  '20-05-2022'),
  (8, 8, 15,  '20-05-2022'),
  (8, 9, 9,   '20-05-2022'),

  (9, 1, 65,  '07-05-2022'),
  (9, 2, 2.5, '07-05-2022'),
  (9, 3, 8.2, '07-05-2022'),
  (9, 4, 50,  '07-05-2022'),
  (9, 5, 1,   '07-05-2022'),
  (9, 6, 2,   '07-05-2022'),
  (9, 7, 77,  '07-05-2022'),
  (9, 8, 17,  '07-05-2022'),
  (9, 9, 3,   '07-05-2022'),

  (9, 1, 83,  '12-05-2022'),
  (9, 2, 2.7, '12-05-2022'),
  (9, 3, 6.2, '12-05-2022'),
  (9, 4, 58,  '12-05-2022'),
  (9, 5, 1,   '12-05-2022'),
  (9, 6, 4,   '12-05-2022'),
  (9, 7, 79,  '12-05-2022'),
  (9, 8, 10,  '12-05-2022'),
  (9, 9, 6,   '12-05-2022'),

  (9, 1, 99,   '12-05-2022'),
  (9, 2, 3.4,  '12-05-2022'),
  (9, 3, 13.6, '12-05-2022'),
  (9, 4, 20,   '12-05-2022'),
  (9, 5, 0,    '12-05-2022'),
  (9, 6, 2,    '12-05-2022'),
  (9, 7, 87,   '12-05-2022'),
  (9, 8, 11,   '12-05-2022'),
  (9, 9, 0,    '12-05-2022'),

  (9, 1, 88,   '12-05-2022'),
  (9, 2, 2.8,  '12-05-2022'),
  (9, 3, 13.4, '12-05-2022'),
  (9, 4, 68,   '12-05-2022'),
  (9, 5, 0,    '12-05-2022'),
  (9, 6, 4,    '12-05-2022'),
  (9, 7, 74,   '12-05-2022'),
  (9, 8, 16,   '12-05-2022'),
  (9, 9, 6,    '12-05-2022'),

  (10, 1, 99,  '04-05-2022'),
  (10, 2, 3.5, '04-05-2022'),
  (10, 3, 4.4, '04-05-2022'),
  (10, 4, 70,  '04-05-2022'),
  (10, 5, 0,   '04-05-2022'),
  (10, 6, 1,   '04-05-2022'),
  (10, 7, 70,  '04-05-2022'),
  (10, 8, 28,  '04-05-2022'),
  (10, 9, 1,   '04-05-2022'),

  (10, 1, 75,  '09-05-2022'),
  (10, 2, 2.8, '09-05-2022'),
  (10, 3, 4.0, '09-05-2022'),
  (10, 4, 45,  '09-05-2022'),
  (10, 5, 1,   '09-05-2022'),
  (10, 6, 3,   '09-05-2022'),
  (10, 7, 54,  '09-05-2022'),
  (10, 8, 35,  '09-05-2022'),
  (10, 9, 7,   '09-05-2022'),

  (10, 1, 79,  '12-05-2022'),
  (10, 2, 2.8, '12-05-2022'),
  (10, 3, 4.4, '12-05-2022'),
  (10, 4, 35,  '12-05-2022'),
  (10, 5, 0,   '12-05-2022'),
  (10, 6, 3,   '12-05-2022'),
  (10, 7, 46,  '12-05-2022'),
  (10, 8, 45,  '12-05-2022'),
  (10, 9, 6,   '12-05-2022'),

  (10, 1, 111, '12-05-2022'),
  (10, 2, 3.6, '12-05-2022'),
  (10, 3, 7.9, '12-05-2022'),
  (10, 4, 15,  '12-05-2022'),
  (10, 5, 0,   '12-05-2022'),
  (10, 6, 3,   '12-05-2022'),
  (10, 7, 84,  '12-05-2022'),
  (10, 8, 7,   '12-05-2022'),
  (10, 9, 3,   '12-05-2022'),

  (10, 1, 97,  '13-05-2022'),
  (10, 2, 3.3, '13-05-2022'),
  (10, 3, 6.8, '13-05-2022'),
  (10, 4, 65,  '13-05-2022'),
  (10, 5, 0,   '13-05-2022'),
  (10, 6, 4,   '13-05-2022'),
  (10, 7, 73,  '13-05-2022'),
  (10, 8, 20,  '13-05-2022'),
  (10, 9, 3,   '13-05-2022'),

  (11, 1, 64,  '04-05-2022'),
  (11, 2, 2.5, '04-05-2022'),
  (11, 3, 8.4, '04-05-2022'),
  (11, 4, 13,  '04-05-2022'),
  (11, 5, 0,   '04-05-2022'),
  (11, 6, 2,   '04-05-2022'),
  (11, 7, 49,  '04-05-2022'),
  (11, 8, 44,  '04-05-2022'),
  (11, 9, 5,   '04-05-2022'),

  (11, 1, 53,  '09-05-2022'),
  (11, 2, 2.2, '09-05-2022'),
  (11, 3, 3.4, '09-05-2022'),
  (11, 4, 12,  '09-05-2022'),
  (11, 5, 0,   '09-05-2022'),
  (11, 6, 3,   '09-05-2022'),
  (11, 7, 58,  '09-05-2022'),
  (11, 8, 34,  '09-05-2022'),
  (11, 9, 5,   '09-05-2022'),

  (11, 1, 99,  '10-05-2022'),
  (11, 2, 3.4, '10-05-2022'),
  (11, 3, 4.3, '10-05-2022'),
  (11, 4, 3,   '10-05-2022'),
  (11, 5, 0,   '10-05-2022'),
  (11, 6, 1,   '10-05-2022'),
  (11, 7, 91,  '10-05-2022'),
  (11, 8, 4,   '10-05-2022'),
  (11, 9, 2,   '10-05-2022'),

  (11, 1, 110, '11-05-2022'),
  (11, 2, 3.6, '11-05-2022'),
  (11, 3, 6.2, '11-05-2022'),
  (11, 4, 8,   '11-05-2022'),
  (11, 5, 0,   '11-05-2022'),
  (11, 6, 1,   '11-05-2022'),
  (11, 7, 73,  '11-05-2022'),
  (11, 8, 21,  '11-05-2022'),
  (11, 9, 5,   '11-05-2022'),

  (12, 1, 56,  '30-04-2022'),
  (12, 2, 2.4, '30-04-2022'),
  (12, 3, 5.2, '30-04-2022'),
  (12, 4, 24,  '30-04-2022'),
  (12, 5, 2,   '30-04-2022'),
  (12, 6, 4,   '30-04-2022'),
  (12, 7, 68,  '30-04-2022'),
  (12, 8, 22,  '30-04-2022'),
  (12, 9, 4,   '30-04-2022'),

  (12, 1, 80,  '05-05-2022'),
  (12, 2, 2.8, '05-05-2022'),
  (12, 3, 9.2, '05-05-2022'),
  (12, 4, 10,  '05-05-2022'),
  (12, 5, 2,   '05-05-2022'),
  (12, 6, 4,   '05-05-2022'),
  (12, 7, 79,  '05-05-2022'),
  (12, 8, 12,  '05-05-2022'),
  (12, 9, 3,   '05-05-2022'),

  (12, 1, 103,  '05-05-2022'),
  (12, 2, 3.5,  '05-05-2022'),
  (12, 3, 11.1, '05-05-2022'),
  (12, 4, 3,    '05-05-2022'),
  (12, 5, 1,    '05-05-2022'),
  (12, 6, 2,    '05-05-2022'),
  (12, 7, 80,   '05-05-2022'),
  (12, 8, 9,    '05-05-2022'),
  (12, 9, 3,    '05-05-2022'),

  (12, 1, 105, '06-05-2022'),
  (12, 2, 3.5, '06-05-2022'),
  (12, 3, 4.2, '06-05-2022'),
  (12, 4, 5,   '06-05-2022'),
  (12, 5, 0,   '06-05-2022'),
  (12, 6, 2,   '06-05-2022'),
  (12, 7, 88,  '06-05-2022'),
  (12, 8, 9,   '06-05-2022'),
  (12, 9, 1,   '06-05-2022'),

  (12, 1, 92,  '10-05-2022'),
  (12, 2, 3.4, '10-05-2022'),
  (12, 3, 8.6, '10-05-2022'),
  (12, 4, 10,  '10-05-2022'),
  (12, 5, 0,   '10-05-2022'),
  (12, 6, 2,   '10-05-2022'),
  (12, 7, 89,  '10-05-2022'),
  (12, 8, 6,   '10-05-2022'),
  (12, 9, 3,   '10-05-2022'),

  (12, 1, 103, '12-05-2022'),
  (12, 2, 3.3, '12-05-2022'),
  (12, 3, 9.6, '12-05-2022'),
  (12, 4, 12,  '12-05-2022'),
  (12, 5, 0,   '12-05-2022'),
  (12, 6, 11,  '12-05-2022'),
  (12, 7, 75,  '12-05-2022'),
  (12, 8, 10,  '12-05-2022'),
  (12, 9, 3,   '12-05-2022'),

  (12, 1, 122,  '16-05-2022'),
  (12, 2, 3.66, '16-05-2022'),
  (12, 3, 6.7,  '16-05-2022'),
  (12, 4, 9,    '16-05-2022'),
  (12, 5, 0,    '16-05-2022'),
  (12, 6, 3,    '16-05-2022'),
  (12, 7, 77,   '16-05-2022'),
  (12, 8, 16,   '16-05-2022'),
  (12, 9, 4,    '16-05-2022'),

  (13, 1, 66,  '29-04-2022'),
  (13, 2, 2.6, '29-04-2022'),
  (13, 3, 2.8, '29-04-2022'),
  (13, 4, 27,  '29-04-2022'),
  (13, 5, 1,   '29-04-2022'),
  (13, 6, 3,   '29-04-2022'),
  (13, 7, 54,  '29-04-2022'),
  (13, 8, 36,  '29-04-2022'),
  (13, 9, 6,   '29-04-2022'),

  (13, 1, 48,  '02-05-2022'),
  (13, 2, 1.9, '02-05-2022'),
  (13, 3, 3.2, '02-05-2022'),
  (13, 4, 32,  '02-05-2022'),
  (13, 5, 0,   '02-05-2022'),
  (13, 6, 0,   '02-05-2022'),
  (13, 7, 90,  '02-05-2022'),
  (13, 8, 9,   '02-05-2022'),
  (13, 9, 1,   '02-05-2022'),

  (13, 1, 85,  '03-05-2022'),
  (13, 2, 3.0, '03-05-2022'),
  (13, 3, 6.0, '03-05-2022'),
  (13, 4, 13,  '03-05-2022'),
  (13, 5, 0,   '03-05-2022'),
  (13, 6, 11,  '03-05-2022'),
  (13, 7, 74,  '03-05-2022'),
  (13, 8, 13,  '03-05-2022'),
  (13, 9, 1,   '03-05-2022'),

  (13, 1, 68,  '04-05-2022'),
  (13, 2, 2.6, '04-05-2022'),
  (13, 3, 5.0, '04-05-2022'),
  (13, 4, 20,  '04-05-2022'),
  (13, 5, 2,   '04-05-2022'),
  (13, 6, 1,   '04-05-2022'),
  (13, 7, 88,  '04-05-2022'),
  (13, 8, 6,   '04-05-2022'),
  (13, 9, 2,   '04-05-2022'),

  (13, 1, 80,  '09-05-2022'),
  (13, 2, 2.8, '09-05-2022'),
  (13, 3, 3.0, '09-05-2022'),
  (13, 4, 30,  '09-05-2022'),
  (13, 5, 0,   '09-05-2022'),
  (13, 6, 2,   '09-05-2022'),
  (13, 7, 78,  '09-05-2022'),
  (13, 8, 14,  '09-05-2022'),
  (13, 9, 6,   '09-05-2022'),

  (13, 1, 88,  '12-05-2022'),
  (13, 2, 3.0, '12-05-2022'),
  (13, 3, 4.0, '12-05-2022'),
  (13, 4, 39,  '12-05-2022'),
  (13, 5, 0,   '12-05-2022'),
  (13, 6, 1,   '12-05-2022'),
  (13, 7, 77,  '12-05-2022'),
  (13, 8, 17,  '12-05-2022'),
  (13, 9, 3,   '12-05-2022'),

  (14, 1, 43,  '30-04-2022'),
  (14, 2, 0.0, '30-04-2022'),
  (14, 3, 8.9, '30-04-2022'),
  (14, 4, 50,  '30-04-2022'),
  (14, 5, 0,   '30-04-2022'),
  (14, 6, 2,   '30-04-2022'),
  (14, 7, 73,  '30-04-2022'),
  (14, 8, 25,  '30-04-2022'),
  (14, 9, 0,   '30-04-2022'),

  (14, 1, 51,   '02-05-2022'),
  (14, 2, 1.92, '02-05-2022'),
  (14, 3, 5.2,  '02-05-2022'),
  (14, 4, 40,   '02-05-2022'),
  (14, 5, 0,    '02-05-2022'),
  (14, 6, 4,    '02-05-2022'),
  (14, 7, 60,   '02-05-2022'),
  (14, 8, 35,   '02-05-2022'),
  (14, 9, 1,    '02-05-2022'),

  (14, 1, 59,  '03-05-2022'),
  (14, 2, 2.3, '03-05-2022'),
  (14, 3, 7.4, '03-05-2022'),
  (14, 4, 12,  '03-05-2022'),
  (14, 5, 0,   '03-05-2022'),
  (14, 6, 20,  '03-05-2022'),
  (14, 7, 54,  '03-05-2022'),
  (14, 8, 18,  '03-05-2022'),
  (14, 9, 4,   '03-05-2022'),

  (14, 1, 60,  '04-05-2022'),
  (14, 2, 2.4, '04-05-2022'),
  (14, 3, 6.7, '04-05-2022'),
  (14, 4, 14,  '04-05-2022'),
  (14, 5, 0,   '04-05-2022'),
  (14, 6, 2,   '04-05-2022'),
  (14, 7, 83,  '04-05-2022'),
  (14, 8, 12,  '04-05-2022'),
  (14, 9, 3,   '04-05-2022'),

  (14, 1, 80,   '05-05-2022'),
  (14, 2, 3.2,  '05-05-2022'),
  (14, 3, 17.5, '05-05-2022'),
  (14, 4, 12,   '05-05-2022'),
  (14, 5, 0,    '05-05-2022'),
  (14, 6, 6,    '05-05-2022'),
  (14, 7, 83,   '05-05-2022'),
  (14, 8, 4,    '05-05-2022'),
  (14, 9, 2,    '05-05-2022'),

  (14, 1, 93,  '06-05-2022'),
  (14, 2, 3.3, '06-05-2022'),
  (14, 3, 7.2, '06-05-2022'),
  (14, 4, 15,  '06-05-2022'),
  (14, 5, 0,   '06-05-2022'),
  (14, 6, 2,   '06-05-2022'),
  (14, 7, 80,  '06-05-2022'),
  (14, 8, 12,  '06-05-2022'),
  (14, 9, 5,   '06-05-2022'),

  (14, 1, 101,  '16-05-2022'),
  (14, 2, 3.19, '16-05-2022'),
  (14, 3, 5.0,  '16-05-2022'),
  (14, 4, 20,   '16-05-2022'),
  (14, 5, 0,    '16-05-2022'),
  (14, 6, 2,    '16-05-2022'),
  (14, 7, 81,   '16-05-2022'),
  (14, 8, 16,   '16-05-2022'),
  (14, 9, 1,    '16-05-2022'),

  (14, 1, 114, '21-05-2022'),
  (14, 2, 3.6, '21-05-2022'),
  (14, 3, 7.8, '21-05-2022'),
  (14, 4, 12,  '21-05-2022'),
  (14, 5, 0,   '21-05-2022'),
  (14, 6, 5,   '21-05-2022'),
  (14, 7, 68,  '21-05-2022'),
  (14, 8, 20,  '21-05-2022'),
  (14, 9, 7,   '21-05-2022'),

  (15, 1, 79,   '19-05-2022'),
  (15, 2, 2.66, '19-05-2022'),
  (15, 3, 9.1,  '19-05-2022'),
  (15, 4, 73,   '19-05-2022'),
  (15, 5, 0,    '19-05-2022'),
  (15, 6, 3,    '19-05-2022'),
  (15, 7, 88,   '19-05-2022'),
  (15, 8, 6,    '19-05-2022'),
  (15, 9, 3,    '19-05-2022'),

  (15, 1, 85,   '19-05-2022'),
  (15, 2, 2.84, '19-05-2022'),
  (15, 3, 12.0, '19-05-2022'),
  (15, 4, 54,   '19-05-2022'),
  (15, 5, 2,    '19-05-2022'),
  (15, 6, 1,    '19-05-2022'),
  (15, 7, 82,   '19-05-2022'),
  (15, 8, 14,   '19-05-2022'),
  (15, 9, 1,    '19-05-2022'),

  (15, 1, 110,  '24-05-2022'),
  (15, 2, 3.5,  '24-05-2022'),
  (15, 3, 10.4, '24-05-2022'),
  (15, 4, 51,   '24-05-2022'),
  (15, 5, 1,    '24-05-2022'),
  (15, 6, 3,    '24-05-2022'),
  (15, 7, 73,   '24-05-2022'),
  (15, 8, 21,   '24-05-2022'),
  (15, 9, 2,    '24-05-2022'),

  (15, 1, 108,  '25-05-2022'),
  (15, 2, 3.4,  '25-05-2022'),
  (15, 3, 11.2, '25-05-2022'),
  (15, 4, 46,   '25-05-2022'),
  (15, 5, 0,    '25-05-2022'),
  (15, 6, 2,    '25-05-2022'),
  (15, 7, 93,   '25-05-2022'),
  (15, 8, 3,    '25-05-2022'),
  (15, 9, 2,    '25-05-2022'),

  (16, 1, 50,  '16-05-2022'),
  (16, 2, 1.8, '16-05-2022'),
  (16, 3, 3.5, '16-05-2022'),
  (16, 4, 55,  '16-05-2022'),
  (16, 5, 2,   '16-05-2022'),
  (16, 6, 2,   '16-05-2022'),
  (16, 7, 55,  '16-05-2022'),
  (16, 8, 40,  '16-05-2022'),
  (16, 9, 1,   '16-05-2022'),

  (16, 1, 97,  '17-05-2022'),
  (16, 2, 3.4, '17-05-2022'),
  (16, 3, 3.5, '17-05-2022'),
  (16, 4, 33,  '17-05-2022'),
  (16, 5, 1,   '17-05-2022'),
  (16, 6, 3,   '17-05-2022'),
  (16, 7, 60,  '17-05-2022'),
  (16, 8, 35,  '17-05-2022'),
  (16, 9, 1,   '17-05-2022'),

  (16, 1, 97,   '18-05-2022'),
  (16, 2, 3.22, '18-05-2022'),
  (16, 3, 5.0,  '18-05-2022'),
  (16, 4, 46,   '18-05-2022'),
  (16, 5, 0,    '18-05-2022'),
  (16, 6, 2,    '18-05-2022'),
  (16, 7, 77,   '18-05-2022'),
  (16, 8, 16,   '18-05-2022'),
  (16, 9, 5,    '18-05-2022'),

  (16, 1, 90,  '18-05-2022'),
  (16, 2, 2.9, '18-05-2022'),
  (16, 3, 7.9, '18-05-2022'),
  (16, 4, 36,  '18-05-2022'),
  (16, 5, 1,   '18-05-2022'),
  (16, 6, 2,   '18-05-2022'),
  (16, 7, 71,  '18-05-2022'),
  (16, 8, 24,  '18-05-2022'),
  (16, 9, 2,   '18-05-2022'),

  (16, 1, 99,  '19-05-2022'),
  (16, 2, 3.5, '19-05-2022'),
  (16, 3, 2.1, '19-05-2022'),
  (16, 4, 23,  '19-05-2022'),
  (16, 5, 0,   '19-05-2022'),
  (16, 6, 9,   '19-05-2022'),
  (16, 7, 66,  '19-05-2022'),
  (16, 8, 18,  '19-05-2022'),
  (16, 9, 6,   '19-05-2022'),

  (16, 1, 110, '20-05-2022'),
  (16, 2, 3.5, '20-05-2022'),
  (16, 3, 3.7, '20-05-2022'),
  (16, 4, 16,  '20-05-2022'),
  (16, 5, 0,   '20-05-2022'),
  (16, 6, 3,   '20-05-2022'),
  (16, 7, 55,  '20-05-2022'),
  (16, 8, 29,  '20-05-2022'),
  (16, 9, 13,  '20-05-2022'),

  (17, 1, 189,  '06-05-2022'),
  (17, 2, 5.3,  '06-05-2022'),
  (17, 3, 10.2, '06-05-2022'),
  (17, 4, 12,   '06-05-2022'),
  (17, 5, 0,    '06-05-2022'),
  (17, 6, 2,    '06-05-2022'),
  (17, 7, 86,   '06-05-2022'),
  (17, 8, 11,   '06-05-2022'),
  (17, 9, 1,    '06-05-2022'),

  (17, 1, 134, '09-05-2022'),
  (17, 2, 4.3, '09-05-2022'),
  (17, 3, 8.2, '09-05-2022'),
  (17, 4, 4,   '09-05-2022'),
  (17, 5, 0,   '09-05-2022'),
  (17, 6, 2,   '09-05-2022'),
  (17, 7, 69,  '09-05-2022'),
  (17, 8, 21,  '09-05-2022'),
  (17, 9, 8,   '09-05-2022'),

  (18, 1, 100, '06-05-2022'),
  (18, 2, 3.4, '06-05-2022'),
  (18, 3, 4.7, '06-05-2022'),
  (18, 4, 39,  '06-05-2022'),
  (18, 5, 0,   '06-05-2022'),
  (18, 6, 10,  '06-05-2022'),
  (18, 7, 74,  '06-05-2022'),
  (18, 8, 12,  '06-05-2022'),
  (18, 9, 3,   '06-05-2022'),

  (18, 1, 87,  '13-05-2022'),
  (18, 2, 3.0, '13-05-2022'),
  (18, 3, 7.4, '13-05-2022'),
  (18, 4, 30,  '13-05-2022'),
  (18, 5, 0,   '13-05-2022'),
  (18, 6, 3,   '13-05-2022'),
  (18, 7, 57,  '13-05-2022'),
  (18, 8, 35,  '13-05-2022'),
  (18, 9, 5,   '13-05-2022'),

--BloodGlucose

  (1,  10, 5.2, '13-05-2022'),
  (2,  10, 4.1, '25-05-2022'),
  (3,  10, 3.8, '06-05-2022'),
  (4,  10, 5.0, '28-04-2022'),
  (5,  10, 3.9, '17-05-2022'),
  (6,  10, 3.6, '19-05-2022'),
  (7,  10, 4.6, '05-05-2022'),
  (8,  10, 3.3, '17-05-2022'),
  (9,  10, 5.4, '09-05-2022'),
  (10, 10, 6.1, '04-05-2022'),
  (11, 10, 5.5, '04-05-2022'),
  (12, 10, 5.3, '02-05-2022'),
  (13, 10, 5.5, '29-04-2022'),
  (14, 10, 4.7, '02-05-2022'),
  (15, 10, 4.2, '19-05-2022'),
  (16, 10, 4.0, '17-05-2022'),
  (17, 10, 4.4, '06-05-2022'),
  (18, 10, 4.9, '09-05-2022'),

--BloodCholesterol
  (1,  11, 5.2, '13-05-2022'),
  (2,  11, 3.8, '25-05-2022'),
  (3,  11, 4.3, '06-05-2022'),
  (4,  11, 5.0, '28-04-2022'),
  (5,  11, 3.9, '17-05-2022'),
  (6,  11, 4.4, '19-05-2022'),
  (7,  11, 4.5, '05-05-2022'),
  (8,  11, 3.7, '17-05-2022'),
  (9,  11, 5.1, '09-05-2022'),
  (10, 11, 4.2, '04-05-2022'),
  (11, 11, 4.9, '04-05-2022'),
  (12, 11, 4.6, '02-05-2022'),
  (13, 11, 4.0, '29-04-2022'),
  (14, 11, 4.8, '02-05-2022'),
  (15, 11, 3.8, '19-05-2022'),
  (16, 11, 3.9, '17-05-2022'),
  (17, 11, 4.7, '06-05-2022'),
  (18, 11, 4.2, '09-05-2022'),

--BiochemicalBloodAnalysis

  (1, 12, 9.17, '13-05-2022'),
  (1, 13, 2.34, '13-05-2022'),
  (1, 14, 6.83, '13-05-2022'),
  (1, 15, 10.3, '13-05-2022'),
  (1, 16, 14.6, '13-05-2022'),
  (1, 17, 88.0, '13-05-2022'),
  (1, 18, 3.6,  '13-05-2022'),

  (2, 12, 8.84, '25-05-2022'),
  (2, 13, 2.71, '25-05-2022'),
  (2, 14, 6.13, '25-05-2022'),
  (2, 15, 90.0, '25-05-2022'),
  (2, 16, 40.0, '25-05-2022'),
  (2, 17, 84.0, '25-05-2022'),
  (2, 18, 5.3,  '25-05-2022'),

  (3, 12, 8.36, '06-05-2022'),
  (3, 13, 2.31, '06-05-2022'),
  (3, 14, 6.05, '06-05-2022'),
  (3, 15, 24.3, '06-05-2022'),
  (3, 16, 21.0, '06-05-2022'),
  (3, 17, 84.0, '06-05-2022'),
  (3, 18, 2.8,  '06-05-2022'),

  (4, 12, 8.18,  '28-04-2022'),
  (4, 13, 2.21,  '28-04-2022'),
  (4, 14, 5.97,  '28-04-2022'),
  (4, 15, 15.0,  '28-04-2022'),
  (4, 16, 19.0,  '28-04-2022'),
  (4, 17, 128.0, '28-04-2022'),
  (4, 18, 8.8,   '28-04-2022'),

  (5, 12, 42.88, '17-05-2022'),
  (5, 13, 12.96, '17-05-2022'),
  (5, 14, 29.92, '17-05-2022'),
  (5, 15, 27.9,  '17-05-2022'),
  (5, 16, 30.0,  '17-05-2022'),
  (5, 17, 94.0,  '17-05-2022'),
  (5, 18, 4.8,   '17-05-2022'),

  (6, 12, 57.02, '19-05-2022'),
  (6, 13, 32.12, '19-05-2022'),
  (6, 14, 24.90, '19-05-2022'),
  (6, 15, 52.0,  '19-05-2022'),
  (6, 16, 90.0,  '19-05-2022'),
  (6, 17, 102.0, '19-05-2022'),
  (6, 18, 5.4,   '19-05-2022'),

  (7, 12, 8.18,  '05-05-2022'),
  (7, 13, 2.36,  '05-05-2022'),
  (7, 14, 5.82,  '05-05-2022'),
  (7, 15, 29.0,  '05-05-2022'),
  (7, 16, 26.0,  '05-05-2022'),
  (7, 17, 632.0, '05-05-2022'),
  (7, 18, 20.9,  '05-05-2022'),

  (8, 12, 7.34, '17-05-2022'),
  (8, 13, 2.02, '17-05-2022'),
  (8, 14, 5.32, '17-05-2022'),
  (8, 15, 12.2, '17-05-2022'),
  (8, 16, 19.0, '17-05-2022'),
  (8, 17, 84.0, '17-05-2022'),
  (8, 18, 5.3,  '17-05-2022'),

  (9, 12, 8.12,  '09-05-2022'),
  (9, 13, 2.34,  '09-05-2022'),
  (9, 14, 5.78,  '09-05-2022'),
  (9, 15, 15.7,  '09-05-2022'),
  (9, 16, 16.3,  '09-05-2022'),
  (9, 17, 130.0, '09-05-2022'),
  (9, 18, 10.2,  '09-05-2022'),

  (10, 12, 7.98, '04-05-2022'),
  (10, 13, 2.12, '04-05-2022'),
  (10, 14, 5.86, '04-05-2022'),
  (10, 15, 12.2, '04-05-2022'),
  (10, 16, 10.8, '04-05-2022'),
  (10, 17, 79.0, '04-05-2022'),
  (10, 18, 4.0,  '04-05-2022'),

  (11, 12, 7.26, '04-05-2022'),
  (11, 13, 2.01, '04-05-2022'),
  (11, 14, 5.25, '04-05-2022'),
  (11, 15, 32.0, '04-05-2022'),
  (11, 16, 30.0, '04-05-2022'),
  (11, 17, 70.0, '04-05-2022'),
  (11, 18, 3.6,  '04-05-2022'),

  (12, 12, 22.19, '02-05-2022'),
  (12, 13, 5.19,  '02-05-2022'),
  (12, 14, 17.0,  '02-05-2022'),
  (12, 15, 15.6,  '02-05-2022'),
  (12, 16, 17.0,  '02-05-2022'),
  (12, 17, 69.0,  '02-05-2022'),
  (12, 18, 4.6,   '02-05-2022'),

  (13, 12, 40.14, '29-04-2022'),
  (13, 13, 15.26, '29-04-2022'),
  (13, 14, 24.88, '29-04-2022'),
  (13, 15, 38.3,  '29-04-2022'),
  (13, 16, 58.0,  '29-04-2022'),
  (13, 17, 84.0,  '29-04-2022'),
  (13, 18, 4.6,   '29-04-2022'),

  (13, 12, 31.13, '09-05-2022'),
  (13, 13, 12.36, '09-05-2022'),
  (13, 14, 18.77, '09-05-2022'),
  (13, 15, 20.9,  '09-05-2022'),
  (13, 16, 23.0,  '09-05-2022'),
  (13, 17, 84.0,  '09-05-2022'),
  (13, 18, 4.6,   '09-05-2022'),

  (14, 12, 10.21, '02-05-2022'),
  (14, 13, 2.36,  '02-05-2022'),
  (14, 14, 7.85,  '02-05-2022'),
  (14, 15, 55.0,  '02-05-2022'),
  (14, 16, 54.0,  '02-05-2022'),
  (14, 17, 72.0,  '02-05-2022'),
  (14, 18, 4.9,   '02-05-2022'),

  (15, 12, 8.86, '19-05-2022'),
  (15, 13, 2.31, '19-05-2022'),
  (15, 14, 6.55, '19-05-2022'),
  (15, 15, 13.9, '19-05-2022'),
  (15, 16, 15.8, '19-05-2022'),
  (15, 17, 76.0, '19-05-2022'),
  (15, 18, 5.0,  '19-05-2022'),

  (16, 12, 8.12,  '17-05-2022'),
  (16, 13, 2.36,  '17-05-2022'),
  (16, 14, 5.76,  '17-05-2022'),
  (16, 15, 0.0,   '17-05-2022'),
  (16, 16, 0.0,   '17-05-2022'),
  (16, 17, 100.0, '17-05-2022'),
  (16, 18, 6.2,   '17-05-2022'),

  (18, 12, 9.17,  '09-05-2022'),
  (18, 13, 2.34,  '09-05-2022'),
  (18, 14, 6.83,  '09-05-2022'),
  (18, 15, 10.3,  '09-05-2022'),
  (18, 16, 14.6,  '09-05-2022'),
  (18, 17, 120.0, '09-05-2022'),
  (18, 18, 9.6,   '09-05-2022'),

--BloodPressure

  (1, 19, 180, '13-05-2022'),
  (1, 20, 100, '13-05-2022'),
  (1, 21, 92,  '13-05-2022'),

  (1, 19, 140, '25-05-2022'),
  (1, 20, 90,  '25-05-2022'),
  (1, 21, 86,  '25-05-2022'),

  (2, 19, 120, '24-05-2022'),
  (2, 20, 80,  '24-05-2022'),
  (2, 21, 78,  '24-05-2022'),

  (2, 19, 120, '27-05-2022'),
  (2, 20, 80,  '27-05-2022'),
  (2, 21, 76,  '27-05-2022'),

  (3, 19, 190, '03-05-2022'),
  (3, 20, 110, '03-05-2022'),
  (3, 21, 76,  '03-05-2022'),

  (3, 19, 150, '13-05-2022'),
  (3, 20, 90,  '13-05-2022'),
  (3, 21, 90,  '13-05-2022'),

  (4, 19, 140, '26-04-2022'),
  (4, 20, 80,  '26-04-2022'),
  (4, 21, 78,  '26-04-2022'),

  (4, 19, 120, '05-05-2022'),
  (4, 20, 80,  '05-05-2022'),
  (4, 21, 66,  '05-05-2022'),

  (5, 19, 125, '16-05-2022'),
  (5, 20, 80,  '16-05-2022'),
  (5, 21, 82,  '16-05-2022'),

  (5, 19, 130, '27-05-2022'),
  (5, 20, 80,  '27-05-2022'),
  (5, 21, 72,  '27-05-2022'),

  (6, 19, 120, '18-05-2022'),
  (6, 20, 80,  '18-05-2022'),
  (6, 21, 86,  '18-05-2022'),

  (6, 19, 130, '21-05-2022'),
  (6, 20, 80,  '21-05-2022'),
  (6, 21, 82,  '21-05-2022'),

  (7, 19, 145, '04-05-2022'),
  (7, 20, 70,  '04-05-2022'),
  (7, 21, 76,  '04-05-2022'),

  (7, 19, 150, '20-05-2022'),
  (7, 20, 70,  '20-05-2022'),
  (7, 21, 78,  '20-05-2022'),

  (8, 19, 140, '16-05-2022'),
  (8, 20, 80,  '16-05-2022'),
  (8, 21, 88,  '16-05-2022'),

  (8, 19, 120, '21-05-2022'),
  (8, 20, 80,  '21-05-2022'),
  (8, 21, 76,  '21-05-2022'),

  (9, 19, 180, '06-05-2022'),
  (9, 20, 110, '06-05-2022'),
  (9, 21, 82,  '06-05-2022'),

  (9, 19, 125, '17-05-2022'),
  (9, 20, 80,  '17-05-2022'),
  (9, 21, 72,  '17-05-2022'),

  (10, 19, 110, '03-05-2022'),
  (10, 20, 70,  '03-05-2022'),
  (10, 21, 72,  '03-05-2022'),

  (10, 19, 130, '17-05-2022'),
  (10, 20, 80,  '17-05-2022'),
  (10, 21, 82,  '17-05-2022'),

  (11, 19, 125, '03-05-2022'),
  (11, 20, 80,  '03-05-2022'),
  (11, 21, 88,  '03-05-2022'),

  (11, 19, 120, '13-05-2022'),
  (11, 20, 80,  '13-05-2022'),
  (11, 21, 89,  '13-05-2022'),

  (12, 19, 145, '29-04-2022'),
  (12, 20, 90,  '29-04-2022'),
  (12, 21, 108, '29-04-2022'),

  (12, 19, 130, '20-05-2022'),
  (12, 20, 80,  '20-05-2022'),
  (12, 21, 78,  '20-05-2022'),

  (13, 19, 120, '28-04-2022'),
  (13, 20, 80,  '28-04-2022'),
  (13, 21, 88,  '28-04-2022'),

  (13, 19, 130, '16-05-2022'),
  (13, 20, 80,  '16-05-2022'),
  (13, 21, 70,  '16-05-2022'),

  (14, 19, 130, '30-04-2022'),
  (14, 20, 80,  '30-04-2022'),
  (14, 21, 84,  '30-04-2022'),

  (14, 19, 120, '20-05-2022'),
  (14, 20, 80,  '20-05-2022'),
  (14, 21, 68,  '20-05-2022'),

  (15, 19, 130, '18-05-2022'),
  (15, 20, 80,  '18-05-2022'),
  (15, 21, 92,  '18-05-2022'),

  (15, 19, 120, '26-05-2022'),
  (15, 20, 80,  '26-05-2022'),
  (15, 21, 68,  '26-05-2022'),

  (16, 19, 150, '16-05-2022'),
  (16, 20, 90,  '16-05-2022'),
  (16, 21, 90,  '16-05-2022'),

  (16, 19, 120, '23-05-2022'),
  (16, 20, 80,  '23-05-2022'),
  (16, 21, 86,  '23-05-2022'),

  (17, 19, 120, '05-05-2022'),
  (17, 20, 80,  '05-05-2022'),
  (17, 21, 70,  '05-05-2022'),

  (17, 19, 120, '11-05-2022'),
  (17, 20, 80,  '11-05-2022'),
  (17, 21, 66,  '11-05-2022'),

  (18, 19, 180, '06-05-2022'),
  (18, 20, 100, '06-05-2022'),
  (18, 21, 82,  '06-05-2022'),

  (18, 19, 110, '16-05-2022'),
  (18, 20, 80,  '16-05-2022'),
  (18, 21, 90,  '16-05-2022')

go
-- таблиця

CREATE TABLE Medications (
  id int IDENTITY(1,1) PRIMARY KEY,
  reception_duration nvarchar(50),
  patient_id int,
  medication_name nvarchar(20),
  medication_dosage nvarchar(20),
  medication_frequency nvarchar(50),
  doctor_id int NOT NULL,
  CONSTRAINT FK_Medications_patients FOREIGN KEY (patient_id)
  REFERENCES Patients(id),
  CONSTRAINT FK_Medications_doctors FOREIGN KEY (doctor_id)
  REFERENCES Doctors(id),
);

go

INSERT INTO Medications (reception_duration, patient_id, medication_name, medication_dosage, medication_frequency, doctor_id)
VALUES
  ('тривало', 1, 'Еналаприл', '10 мг', '2 рази на добу', 1),
  ('тривало', 1, 'Амлодипін', '5 мг', '1 раз на добу (на ніч)', 1),
  ('тривало', 1, 'Кардіомагніл', '5 мг', '1 раз на добу (на ніч)', 1),
  ('тривало', 1, 'Разватор', '10 мг', '1 раз на добу (на ніч)', 1),
  ('2-3 місяці', 1, 'Вестинорм', '16 мг', '3 рази на добу',1),
  ('за рекомендацією сімейного лікаря', 3, 'Небілет', '5 мг', '1 раз на добу (вранці)', 3),
  ('за рекомендацією сімейного лікаря', 3, 'Берліприл', '10 мг', '1 раз на добу (на ніч)', 3),
  ('за рекомендацією сімейного лікаря', 3, 'Нольпаза', '40 мг', '2 рази на добу (за 30 хвилин до їжі)', 3),
  ('1 місяць', 4, 'Тардіферон', '1 таблетка', '2 рази на добу ', 1),
  ('за рекомендацією сімейного лікаря', 5, 'Спіронолактон', '50 мг', '1 раз на добу (14:00)', 2),
  ('за рекомендацією сімейного лікаря', 6, 'Тардіферон', '1 таблетка', '2 рази на добу ', 3),
  ('за рекомендацією сімейного лікаря', 6, 'Торсід', '10 мг', '1 раз на добу (зранку)', 3),
  ('за рекомендацією сімейного лікаря', 6, 'Спіронолактон', '50 мг', '1 раз на добу (14:00)', 3),
  ('за рекомендацією сімейного лікаря', 7, 'Тардіферон', '1 таблетка', '2 рази на добу ', 1),
  ('за рекомендацією сімейного лікаря', 7, 'Лозап Н', '100 мг', '1 раз на добу (зранку)', 1),
  ('за рекомендацією сімейного лікаря', 7, 'Лозап', '100 мг', '1 раз на добу (на ніч)', 1),
  ('за рекомендацією сімейного лікаря', 7, 'Леркамен', '10 мг', '1 раз на добу (на ніч)', 1),
  ('за рекомендацією сімейного лікаря', 7, 'Торсід', '10 мг', '1 раз на добу (зранку)', 1),
  ('за рекомендацією сімейного лікаря', 7, 'Гіпотіазід', '50 мг', '2 рази на тиждень', 1),
  ('за рекомендацією сімейного лікаря', 7, 'Гуталакс', '20 капель', '1 раз на добу (зранку)', 1),
  ('за рекомендацією сімейного лікаря', 7, 'Нефролекс', '2 чайні ложки', '3 рази на добу', 1),
  ('1 місяць', 8, 'Тардіферон', '1 таблетка', '2 рази на добу ', 2),
  ('1 місяць', 9, 'Тардіферон', '1 таблетка', '2 рази на добу ', 3),
  ('за рекомендацією сімейного лікаря', 9, 'Торсід', '10 мг', '2 рази на тиждень (зранку)', 3),
  ('за рекомендацією сімейного лікаря', 9, 'Спіронолактон', '50 мг', '1 раз на добу (14:00)', 3),
  ('1,5-2 місяці', 10, 'Тардіферон', '1таблетка', '2 рази на добу', 1),
  ('1 місяць', 10, 'Нольпаза', '40мг', '1 раз на тиждень (зранку)', 1),
  ('1 місяць', 10, 'Дуфалак', '15 мл', '2 рази на добу', 1),
  ('1 місяць', 10, 'Канефрон', '2 капсули', '3 рази на добу', 1),
  ('10 діб', 10, 'Амоксіциклін', '1000 мг', '2 рази на добу', 1),
  ('10 діб', 10,  'Кларитроміцин', '500 мг', '2 рази на добу',1),
  ('1 місяць', 11,  'Тардіферон', 'Магне', '2 рази на добу', 2),
  ('1 місяць', 12,  'Тардіферон', '1 таблетка', '2 рази на добу', 3),
  ('за рекомендацією сімейного лікаря', 12, 'Торсід', '10 мг', '1 раз на добу (зранку)', 3),
  ('за рекомендацією сімейного лікаря', 12, 'Спіронолактон', '50 мг', '1 раз на добу (14:00)', 3),
  ('5 днів', 12, 'Магне', '6 таблеток', '2 рази на добу', 3),
  ('за рекомендацією сімейного лікаря після 5-ти днів', 12, 'Магне', '1 таблетка', '1 раз на добу', 3),
  ('за рекомендацією сімейного лікаря', 13,  ' Еналаприл', '10мг', '2 рази на добу', 1),
  ('1 місяць', 14, 'Тардіферон', '1 таблетка', '2 рази на добу ', 2),
  ('за рекомендацією сімейного лікаря', 14,  'Бісопролол', '2,5 мг', '1 раз на добу (зранку)', 2),
  ('за рекомендацією сімейного лікаря', 14,  'Еналаприл', '5 мг', '1 раз на добу (ввечері)', 2),
  ('за рекомендацією сімейного лікаря', 15, 'Коріол', '3,125', '2 рази на добу', 3),
  ('за рекомендацією сімейного лікаря', 15, 'Коріол', '20 мг', '1 раз на добу (ввечері)', 3),
  ('за рекомендацією сімейного лікаря', 16, 'Алітер', '25 мг', '1 раз на добу (зранку)', 1),
  ('за рекомендацією сімейного лікаря', 16, 'Спіронолактон', '25 мг', '1 раз на добу (зранку)', 1),
  ('5 днів', 17, 'Пульмо бриз', '1 таблетка', '3 рази на добу', 2),
  ('за рекомендацією сімейного лікаря', 18, 'Торсід', '20 мг', '1 раз на добу (зранку)', 3),
  ('за рекомендацією сімейного лікаря', 18, 'Гіпотіазід', '50 мг', '1 раз на добу (зранку)', 3),
  ('за рекомендацією сімейного лікаря', 18, 'Розуліп', '20 мг', '1 раз на добу (ввечері)', 3),
  ('за рекомендацією сімейного лікаря', 18, 'Магнікор', '75 мг', '1 раз на добу (ввечері)', 3),
  ('за рекомендацією сімейного лікаря', 18, 'Трипликсам', '10 мг', '1 раз на добу (зранку)', 3),
  ('за рекомендацією сімейного лікаря', 18, 'Спіронолактон', '50 мг', '1 раз на добу (14:00)', 3);

go
-- таблиця

CREATE TABLE Appointments (
    id int IDENTITY(1,1) PRIMARY KEY,
    treatment_date DATE NOT NULL,
    treatment_time TIME NOT NULL,
    record_number nvarchar(20) NOT NULL,
    patient_id INT NOT NULL,
    doctor_id INT NOT NULL,
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    diagnosis nvarchar(1000), 
    treatment nvarchar(1000), 
    treatment_and_work_recommendations nvarchar(500),
    recommended nvarchar(500), 
	CONSTRAINT FK_Appointments_patients FOREIGN KEY (patient_id)
    REFERENCES Patients(id),
	CONSTRAINT FK_Appointments_doctors FOREIGN KEY (doctor_id)
    REFERENCES Doctors(id),
);

go

INSERT INTO Appointments (treatment_date, treatment_time, record_number, patient_id, doctor_id,  start_date, end_date, diagnosis, treatment, treatment_and_work_recommendations, recommended)
VALUES
    ('12-05-2022', '11:55:00', '001904\2022', 1, 1, '12-05-2022', '25-05-2022', 'Гіпертонічна хвороба 2 ступеня, проблема зі статевими органами,  ішемічну хворобу серця, яка пов`язання зі зменшенням кровопостачання до серця,  зміни в структурі серця,  серцева недостатність 2 ступеня, наявність пилу у легенях, людина має проблеми з диханням на тлі захворювання легень, може тимчасово полегшити, але повернутися з часом, людина має обмеження у фізичних навантаженнях на 2-3 ступені, що пов`язано зі станом серця та легень', 'еналозiд , еналопрiл , амлодипiн , кардіомагніл , вестинорм , фiзичний розчин , магнію сульфат фуросемід', ' 25.05.2022р . В результаті проведеної терапії , знизилися та стабiлiзувалися цифри артеріальний тиск на рівні цільових , зменшився головний біль , запаморочення . Стан задовільний . Пульсова хвиля 17 ударів за хвилину. У легенях дихання везикулярне , послаблене в н / вiд . Артеріальний тиск 140 / 90 мм рт. ст.  Частота дихання 8 разів на хвилину. Тони приглушенi ритмічні . Живіт м''який , безболісний . Виписується з терапевтичного відділення', 'Рекомендовано : 1. Обмеження тяжких фізичних навантажень навантажень протягом 10 діб . 2. Самоконтроль артеріального тиску , частоти серцевих скорочень . 3 . Прийом медикаментів'),
	('24-05-2022', '14:05:00', '002108\2022', 2, 2, '24-05-2022', '27-05-2022', 'Правий плечовий суглоб має запалення в околосуглобових тканинах, що призводить до болю та обмеження руху. Також є біль та дискомфорт внизу спини і ногах, що може бути пов''язане зі збільшеною масою тіла - Індекс маси тіла становить 38%, що вказує на середньо-важку ступінь ожиріння змішаного походження.', 'ібупрофен, омепрозол, кетолонг', '27.05.2022р. Стан задовільний . Пульсова хвиля 16 ударів за хвилину. У легенях дихання везикулярне. Артеріальний тиск 120 / 80 мм рт. ст.  Ритм серця 76 ударів на хвилину. Тони приглушенi ритмічні . Живіт м''який , безболісний . Виписується з терапевтичного відділення', 'Рекомендовано : 1. Обмеження тяжких фізичних навантажень навантажень протягом 10 діб . 2. Нормалізація ваги'),
	('03-05-2022', '11:35:00', '001720\2022', 3, 3, '03-05-2022', '12-05-2022', 'Виразкова хвороба шлунка та дванадцятипалої кишки,  виразка на цибулині дванадцятипалої кишки, а також хронічний запалення шлунка та дванадцятипалої кишки, яке знаходиться у загостренні. Також є рубцова-виразкова деформація цибулини дванадцятипалої кишки. Хронічний гепатит, який перебуває у стадії ремісії, та помірно загострений хронічний холецистит та панкреатит. Хронічний пієлонефрит перебуває у стадії ремісії. Ви маєте післяінфарктний кардіосклероз, що виник після інфаркту міокарда у 2019 році. Історія синусової тахікардії, а серце має серйозну порушену функцію - глобальну дисфункцію лівого шлуночка 3 ступеня зі зниженням його скорочувальної здатності до 4 ступеня.', 'обстеження', '12-05-2022р. Хворий обстежений. Стан задовільний .  У легенях дихання везикулярне. Артеріальний тиск 150 / 90 мм рт. ст.  Ритм серця 90 ударів на хвилину. Тони приглушенi ритмічні . Живіт м''який , безболісний . Виписується з терапевтичного вiддiлення', 'Рекомендовано : 1. Обмеження тяжких фiзичних навантажень навантажень протягом 10 діб . 2.  Прийом медикаментів'),
	('26-04-2022', '11:05:00', '001608\2022', 4, 1, '26-04-2022', '05-05-2022', 'Тяжка форму залізодефіцитної анемії,  хронічну серцеву недостатність у стадії 2 з ризиком 3, і дифузний кардіосклероз. Коронарна серцева хвороба - 2 типу, середньої важкості, в стадії компенсації. Хронічний гастрит з вираженими симптомами, який спричинений бактерією Хелікобактер пілор. Хронічний холецистит знаходиться в ремісії, а також хронічний панкреатит і пієлонефрит також знаходяться в ремісії. Останній діагноз - хронічна ниркова недостатність.', 'фолієва кислота, фізичний розчин, суфер, анальгін, димедрол, дексаметазон, еритроцити', '05-05-2022р. В результаті проведеної терапії, слабкість зменшилася, гемоглобін, еритроцити в крові підвищилися. Стан задовільний .  У легенях дихання везикулярне. Артеріальний тиск 120 / 80 мм рт. ст.  Ритм серця 66 ударів на хвилину. Тони приглушенi ритмічні . Живіт м''який , безболісний . Виписується з терапевтичного вiддiлення', 'Рекомендовано : 1. Через два тижні необхідно повторити курс лікування . 2.  Прийом медикаментів'),
	('16-05-2022', '12:40:00', '001950\2022', 5, 2, '16-05-2022', '27-05-2022', 'Захворювання кровотворної системи, коли кількість деяких клітин в крові зменшується, що призводить до анемії, хоча лікування було проведене, анемія не поліпшилась. Серцева тканина змінюється і стає менш еластичною. пацієнт має серцеву недостатність середньої важкості з обмеженням фізичної активності.', 'мілдрокард, тіоцитам, анальгін, димедрол, дексаметазон, еритроцити', '27-05-2022р. В результаті проведеної терапії, слабкість зменшилася, зникли набряки в ногах, сердцебиття. Стан задовільний .  У легенях дихання везикулярне. Артеріальний тиск 130 / 80 мм рт. ст.  Ритм серця 72 ударів на хвилину. Тони приглушенi ритмічні . Живіт м''який , безболісний . Виписується з терапевтичного вiддiлення', 'Рекомендовано 1. Через місяць необхідно повторити курс лікування . 2.  Прийом медикаментів. 3. Нагляд сімейного лікаря'),
	('18-05-2022', '12:30:00', '001995\2022', 6, 3, '18-05-2022', '21-05-2022', 'Рак на перехресті товстої кишки та печінки, що прогресує та спричиняє інтоксикацію та анемію. Крім цього, у пацієнта є серцево-судинні проблеми, зокрема дифузний кардіосклероз, тобто застійна хвороба серця, та серцева недостатність другого ступеня розвитку, що може викликати задишку та печінкову кровотечу.', 'торсід, спронолактон, анальгін, димедрол, дексаметазон, еритроцити', '21-05-2022р. В результаті проведеної терапії,  гемоглобін, еритроцити в крові нормалізувалися, але залишилися набряки на ногах, загальна слабкість . Стан середньої важкості .  У легенях дихання везикулярне, справа послаблене. Артеріальний тиск 130 / 80 мм рт. ст.  Ритм серця 82 ударів на хвилину. Тони приглушенi ритмічні . Живіт м''який , в правому підребер’ї пальпується пухлине утворення . Виписується з терапевтичного відділення', 'Рекомендовано 1. Симптоматична терапія . 2.  Прийом медикаментів. 3. Нагляд сімейного лікаря'),
	('04-05-2022', '11:30:00', '001742\2022', 7, 1, '04-05-2022', '20-05-2022', 'У пацієнта є запалення нирок, яке триває довго, що знову загострилось. Крім того, у пацієнта є серцево-судинні проблеми, такі як серцева недостатність, анемія, зниження артеріального тиску та загальне затвердіння серцевої м''язової тканини). Пацієнт також має діабет другого типу, середньої тяжкості, що не повністю компенсований.', 'гуталакс, нефролекс, феррум лек, анальгін, димедрол, дексамеметазон, триплексан, торсід, магнікор, тіоцитам, мілдрокард, аспаркам, фуросемід, тівортін, діаліпон, турбо, фізичний розчин, суфер', '20-05-2022р. Незважаючи на проведенну терапію, стан хворого значно не поліпшився.  Залишається задишка, анемія, загальна слабкість. Зменшилися набряки на ногах та артеріальний тиск. Стан середньої тяжкості .  У легенях дихання везикулярне, хрипів немає. Артеріальний тиск 150 / 70 мм рт. ст.  Ритм серця 78 ударів на хвилину. Тони приглушенi ритмічні . Живіт м''який . Пастозність гомілок. Виписується з терапевтичного відділення за наполяганням хворого', 'Рекомендовано 1. Прийом медикаментів. . 2.  Нагляд сімейного лікаря'),
	('16-05-2022', '10:59:00', '001942\2022', 8, 2, '16-05-2022', '21-05-2022', 'У пацієнта є тяжка форма анемії з дефіцитом заліза. Крім того, у пацієнта є запалення шлунково-кишкового тракту в фазі ремісії, а також запалення хребта у центральній формі з активною стадією, що впливає на стан його рухової системи. Пацієнт також має запалення суглобів стегна і лонової області зправа та зношування суглобової хрящової тканини плечових суглобів зправа, а також зношування суглобової хрящової тканини правого стегна першого ступеня і зменшення щільності кісткової тканини плечових суглобів з права та ліва. Пацієнт також має функціональні порушення нервової системи у лівій нозі.', 'омепрозол, феррум лук, мілдрокард, анальгін, димедрол, дексаметазон, еритроцити', '21-05-2022р. В результаті проведеної терапії, стан хворого поліпшився, зменшилася задишка, слабкість, підвищилися гемоглобін, еритроцити в крові. Стан задовільний .  У легенях дихання везикулярне. Артеріальний тиск 120 / 80 мм рт. ст.  Ритм серця 76 ударів на хвилину. Тони приглушенi ритмічні . Живіт м''який , безболісний . Виписується з терапевтичного відділення', 'Рекомендовано 1. Через чотири тижні необхідно повторити курс лікування . 2.  Прийом медикаментів. 3. Нагляд сімейного лікаря'),
	('06-05-2022', '10:00:00', '001942\2022', 9, 3, '06-05-2022', '17-05-2022', 'Хронічна анемія з дефіцитом заліза, яка має важкий перебіг. Також пацієнт має дифузний кардіосклероз зі зниженням серцевої функції другого ступеня, легеневу захворювання зі сторони лівого легеня, яка призвела до нагромадження рідини в плевральній порожнині.', 'торсід, спіронолактон, магнікор, розуліп, метамін, діабетон, мілдрокард, тіоцитам, аспаркам, фуросемід, саргін', '17-05-2022р. В результаті проведеної терапії, стан хворого поліпшився,зникли набряки на ногах,  зменшилася задишка, підвищилися гемоглобін, еритроцити в крові. Стан задовільний .  У легенях дихання везикулярне. Артеріальний тиск 125 / 80 мм рт. ст.  Ритм серця 72 ударів на хвилину. Тони приглушенi ритмічні . Живіт м''який , безболісний . Виписується з терапевтичного відділення', 'Рекомендовано 1. Через два тижні необхідно повторити курс лікування . 2.  Прийом медикаментів. 3. Нагляд сімейного лікаря'),
	('03-05-2022', '10:00:00', '001723\2022', 10, 1, '03-05-2022', '17-05-2022', 'Хронічна анемія середньої тяжкості, виразкова хвороба шлунка та дванадцятипалої кишки, яка на даний момент знаходиться в загостренні.   Хронічний гастрит,  може бути спричинене бактерією H. pylori. У фазі загострення. Пацієнтка має хронічний запальний процес у нирках, який на даний момент знаходиться в стані невираженої ремісії. ', 'суфер, фізичний розчин, корвітін, мілдрокард, тіоцитам, лактулоза, омепрозол, лактунорм','17-05-2022p. В результаті проведеної терапії, зменшилися загальна слабкість, запаморочення. Стан задовільний. Частота дихання 16 в хв. У легенях дихання везикулярне. Артеріальний тиск 130/80мм рт. ст. Ритм серця 82уд. в хв. Тони приглушені ритмічні. Живіт м''який, безболісний. Виписується з терапевтичного відділення.',' Рекомендовано 1. Нагляд сімейного лікаря. 2. Прийом медикаментів 3. Контроль сироваткового заліза, феритін крові через 1, 3 та 6міс.  4. Уреазний тест на H. pіlогу через 1,5міс.'),
	('03-05-2022', '11:00:00', '001714\2022', 11, 2, '03-05-2022', '13-05-2022', 'Дефіцитна анемія середньої тяжкості. Хвороба серця. Дифузний кардіосклероз. Хвороба легенів, коли їхні функції погіршуються, у пацієнтки є гіпертонія 2 ступеня', 'дексаметазон, торсід, спіронолактон, мілдрокард, тіоцитам, аспаркам, фуросемід, тівортін, феррум лек, анальгін, димедрол, еритроцити','13.05.2022p. В результаті проведеної терапії, зменшилися слабкість, задишка, запаморочення. Стан середньої тяжкості. Частота дихання18 в хв. У легенях дихання везикулярне. Артеріальний тиск 120/80мм рт. ст. Ритм серця 89уд. в хв. Тони приглушені ритмічні. Живіт м''який, безболісний. Виписується з терапевтичного відділення.',' Рекомендовано:1. Спостереження сімейного лікаря. 2. Прийом медикаментів. 3. Контроль ЗАК, сироваткового Бе крові через 3міс.' ),
	('29-04-2022', '11:15:00', '001659\2022', 12, 3, '29-04-2022', '20-05-2022', 'Хронічна залізодефіцитна анемія, тяжкий перебіг. У  пацієнта є серцево-судинні захворювання, такі як ішемічна хвороба серця з дифузним кардіосклерозом, гіпертензивна хвороба, пасткова гіпертрофія лівого шлуночка. Пацієнт має хронічний запалення слизової оболонки шлунка та дванадцятипалої кишки, а також виявлено поліпи в шлунку. ', 'анальгін, димедрол, дексаметазон, тардіферон, парацетамол, цефтриаксон, левосепт, біопролол, еналаприл, торсід, спіронолактон, тіоцитам, Мілдрокард, аспаркам, фізичний розчин, фуросемід тівортін, суфер, еритроцити.','20.05.2022p. В результаті проведеної терапії, гемоглобін, еритроцити підвищилися, набряки на ногах зникли, значно зменшилася задишка, турбують судоми. Стан задовільний. Частота дихання 17 в хв. У легенях дихання везикулярне, хрипів немає. Артеріальний тиск130/80 мм рт. ст. Ритм серця 78 в хв. Тони приглушені ритмічні. Живіт м''який, безболісний. Набряків, дизурії немає. Виписується з терапевтичного відділення з поліпшенням','Рекомендовано: 1. Нагляд сімейного лікаря. 2. Прийом медикаментів. 3. Повторити ЗАК + Ht через 2 та 4 тижні.' ),
	('28-04-2022', '10:55:00', '001639\2022', 13, 1, '28-04-2022', '16-05-2022', 'Хронічна залізодефіцитна анемія, що проходить у тяжкій формі. Хронічний криптогенний гепатит, який перебуває в стадії загострення.  Синдром цитолізу та холестазу, який характеризується підвищенням рівня деяких показників в крові та порушенням відтоку жовчі з печінки. Гастродуоденіт, що проходить у хронічній формі та асоційований з наявністю Helicobacter pylori. Поліпоз шлунку, тобто утворення внутрішньошлункових поліпів.', 'саргін, мілдрокард, пірацетам, фізичний розчин, суфер, гепатокс, віт. В12, анальгін, димедрол, дексаметазон, еритроцити.','16.05.2022p. В результаті проведеної терапії, стан хворого поліпшився: підвищилися еритроцити. На крові, нормалізувалися печінкові проби. Стан задовільний. У легенях дихання везикулярне. Артеріальний тиск 130/80мм рт. ст. Ритм серця 70уд. в хв. Тони приглушені, ритмічні. Живіт м''який, безболісний. Набряків немає. Виписується з терапевтичного відділення. Хворий відмовився від проведення ірігоскопії.','Рекомендовано: 1. Нагляд сімейного лікаря. 2.Повторити ЗАК + Ht через 2 та 4 тижні. 3.Контроль артеріальний тиск. 4. Прийом медикаментів.' ),
	('30-04-2022', '11:45:00', '001606\2022', 14, 2, '30-04-2022', '20-05-2022', 'У пацієнта триває довгостроковий дефіцит заліза. Нещодавно пацієнт захворів на ГРВІ середньої тяжкості. Хронічний гастрит, він зараз у ремісії, але є деякий зворотний потік з кислотою з шлунка вниз до стравоходу (гастральний рефлюкс). Також виявлено кандидозний езофагіт (інфекційне ураження стравоходу грибком). Щодо жовчного міхура, то у пацієнта є хронічний калькулезний холецистит, що зараз у ремісії. Також є збільшення печінки (гепатомегалія). Пацієнт має історію серцево-судинних захворювань, таких як гіпертонія першого ступеня та можливо ішемічна хвороба серця.', 'дексаметазон, фуросемід, спіронолактон,  тріомакс, віт. В12, метамакс, пірацетам, Фуросемід, феррум лек, фізичний розчин, фармаксон, анальгін, димедрол, розчин Рінгера, тардіферон, триссоль, еритроцити.', '20.05.2022р. В результаті проведеної терапії, гемоглобіну, еритроцити підвищилися, слабкість зникла. Стан задовільний. У легенях дихання везикулярне. Артеріальний тиск  120/80мм рт. ст. Ритм серця 68уд. в хв. Тони приглушені ритмічні. Живіт м''який, безболісний. Набряків немає. Виписується з терапевтичного відділення','Рекомендовано: 1. Нагляд сімейного лікаря. 2. Контроль артеріальний тиск. 3. Обмеження фізичних навантажень протягом 2-х тижнів. 4. Повторити ЗАК + Ht через 2 та 4 тижні. 5. Прийом медикаментів.' ),
	('18-05-2022', '10:25:00', '001987\2022', 15, 3, '18-05-2022', '26-05-2022', 'Правобічний гідроторакс , хронічна ниркова недостатність стадії 6. Залізодефіцитна анемія середнього ступеня важкості. IXC. Дифузний кардіосклероз. Постійна форма, тахікардійний варіант, вказує на наявність стабільної форми серцево-судинної недостатності з тахікардією та автономною нервовою дисфункцією. Можливий  ризик кровотечі при прийомі антикоагулянтів.', 'мілдрокард, тіоцитам, глюкоза, інсулін, аспаркам, анальгін, димедрол, дексаметазон, коріол, еритроцити','26.05.2022p. В результаті проведеної терапії, підвищилися гемоглобін, еритроцити крові, але залишається загальна слабкість, задишка. Стан середньої важкості. У легенях дихання везикулярне, справа дихання різко послаблене. артеріальний тиск 120/80 мм рт ст. PC 68уд. в хв. Тони приглушені, ритмічні. Живіт м''який, безболісний. Набряків немає. Виписується з терапевтичного відділення.','Рекомендовано: 1. Консультація торокального онколога. 2. Прийом медикаментів.' ),
	('16-05-2022', '10:45:00', '001952\2022', 16, 1, '16-05-2022', '23-05-2022', 'Хронічна вторинна анемія тяжкого ступеню. Наявність раку лівого сечоводу, який є вторинним, тобто виник унаслідок розповсюдження раку з іншої частини тіла, і має клітинний рівень грізності 2. Наявність серцевої недостатності з підвищеним ризиком серцево-судинних захворювань.', 'сонникс, ношпа, кетолонг, магнею сульфат, фуросемід, раміприл, триомакс, фізичний розчин, омепрозел, торсіл, спіронолактон, суфер, тризипін, армадін, тіворель, анальгін, димедрол, альтер, дексаметазон, каптопресс','23.08.2022р. В результаті проведеної терапії, стан покращився зменшилися загальна слабкість, задника, запаморочення. Стан задовільний. ЧД 16 в хв. Шкіра тілесного кольору. У легенях дихання везикулярне. AT 120/80мм рт. ст. PC 86уд, в хв. Тони приглушені ритмічні. Живіт м''який, безболісний. Виписується з терапевтичного відділення.','Рекомендовано: 1. Спостереження сімейного лікаря. 2. Самоконтроль артеріального тиску. 3. Прийом медикаментів. 4. Здати аналіз крові: сироваткового заліза, феритину. 5. Ехокардіоскопія планово.' ),
	('05-05-2022', '11:05:00', '001771\2022', 17, 2, '05-05-2022', '11-05-2022', 'Гострий бронхіт', 'лоперамід, дексаметазон, мукосол, муколван, цефтриаксон, фізичний розчин, пульмо бриз','11.05.2022р. В результаті проведеної терапії, стан хворого нормалізувався, кашель, значно зменшився і виникає рідко. Стан задовільний. У легенях дихання везикулярне. AT 120/80мм рт. ст. Тони. примушені ритмічні. Живіт мякий, безболісний. Набряків немає. Виписується з терапевтичного відділення','Рекомендовано: 1. Спостереження сімейного лікаря. 2. Прийом медикаментів.' ),
	('06-05-2022', '11:15:00', '001800\2022', 18, 3, '06-05-2022', '16-05-2022', 'Наявність дифузного кардіосклерозу. Наявність серцевої недостатності з підвищеним ризиком серцево-судинних захворювань. Накопичення рідини в плевральній порожнині правого боку. Хвороба нирок (пієлонефрит) була у минулому, зараз є ремісія, але все ще існує хронічна ниркова недостатність першого ступеня. Хр. вторинна анемія середньої тяжкості. ', 'мазь карбодерм елеком, торсід, тріплексам, дексаметазон, тіоцитам, мідрокард, эспаркам, фуросемід, саргін, гіпотіанід, спіронолактон','16.05.2022р. Скарги на загальну слабкість, задишку при помірних навантаженнях. Стан середної тяжкості. У легенях дихання везикулярне. Тони приглушені ритмічні. Живі м''який, безболісний. Виписується з терапевтичного відділення.','Рекомендовано: 1. Спостереження сімейного лікаря. 2. Самоконтроль артеріального тиску. 3. Прийом медикаментів. 4. Контроль ліпідограми крові' );

go

-- таблиця

CREATE TABLE MedicalConditions (
  id int IDENTITY(1,1) PRIMARY KEY,
  patient_id int NOT NULL,
  doctor_id int NOT NULL,
 
  complaints nvarchar(1000),
  medical_history nvarchar(1000),
  clinical_history nvarchar(1000), 
  objective_condition nvarchar(1000),
  CONSTRAINT FK_MedicalConditions_patients FOREIGN KEY (patient_id)
  REFERENCES Patients(id),
  CONSTRAINT FK_MedicalConditions_doctors FOREIGN KEY (doctor_id)
  REFERENCES Doctors(id),
);

go

INSERT INTO MedicalConditions (patient_id, doctor_id, complaints, medical_history, clinical_history, objective_condition)
VALUES
  (1, 1, 'Скарги на головний біль, погане самопочуття, загальну слабкість, нудоту, запаморочення', 'Пацієнт хворіє на гіпертонічну хворобу понад 10 років і приймає ліки для її лікування. Стан здоров''я погіршився протягом кількох тижнів. Зі скаргами на погіршення здоров''я звернувся до сімейного лікаря 13.05.22 року.', 'Пацієнт заперечує наявність захворювань вен, хвороби Боткіна, ТВС, алергічних реакцій і гемотрансфузії. З 2008 року в нього хронічний бронхіт, а 2017 року він захворів на професійне захворювання, пов''язане з впливом на організм сильних пилових і хімічних речовин, таких як сідеросилікоз, ХОЗЛ і ЛН Пст.', 'Стан середньої тяжкості. Свідомість ясна, поведінка адекватна, положення обмежене активним. Харчування підвищене. Шкірні покриви гіперемовані. Грудна клітка правильної форми, перкусія легень виявляє легеневий звук, але звук приглушений у нижній частині грудної клітки. Частота дихання 16 на хвилину, у легенях везикулярне дихання, ослаблене в нижній частині грудної клітки. Відносні серцеві межі знаходяться праворуч і ліворуч на відстані 0,5 см від середньоключичної лінії. Пульс 92 удари на хвилину, артеріальний тиск становить 180/100 мм рт. ст. Серцеві тони приглушені, ритмічні, з акцентом на другому тоні над легеневою артерією. Випорожнення - 6/о. С-м постукування (-). Сечовипускання в нормі. Набряк гомілок відсутній.' ),
  (2, 2, 'Скарги на біль гострого характеру в правому плечовому суглобі при фізичному навантажені', 'Хворіє протягом місяця. Приймав диклофенак протягом 5 діб. Стан не покращювався. Сьогодні травматологом 2-ї м/лікарні, проведено Ro правого плечового суглоба.  Рекомендовано лікування в терапевтичному відділі.', 'Пацієнт заперечує наявність захворювань вен, хвороби Боткіна, ТВС, алергічних реакцій і гемотрансфузії. Шкідливі звички: палить', 'Стан середньої тяжкості. Свідомість ясна, поведінка адекватна. Харчування підвищене.Шкірні покриви фізіологічного забарвлення. Грудна клітка правильної форми, перкусія легень виявляє легеневий звук. Частота дихання 16 на хвилину, у легенях везикулярне дихання. Пульс 78 удари на хвилину, артеріальний тиск становить 120/80 мм рт. ст. Серцеві тони приглушені, ритмічні. Випорожнення - 6/о. С-м постукування (-). Сечовипускання в нормі. Набряк гомілок відсутній. '),
  (3, 3, 'Скарги на підвищення артеріального тиску, часті головні болі в області серця давлючого характеру, які виникають при фізичному навантаженні та підвищенні артеріального тиску, епізодичні болі в епігастральній області, печію', 'Чоловік уже понад 10 років страждає від високого кров''яного тиску та ішемічної хвороби серця. Його відправили на обстеження на наявність туберкульозу за направленням РВК. У минулому була виразкова хвороба дванадцятипалої кишки.', 'Людина не страждала на Боткінську хворобу, туберкульоз, венозні захворювання, алергії або не переносила гемотрансфузій.', 'Загальний стан задовільний, свідомість і поведінка адекватні. Частота дихання 17 на хвилину, перкуторний звук легень нормальний, дихання пезикулярне. Грудна клітка звичайної форми та розмірів. Артеріальний тиск 190/110 мм рт. ст., пульс 70 ударів за хвилину, тони серця приглушені, ритмічні, акцент II тону над легеневою артерією. Язик обкладений стриманим нальотом, вологий. Живіт м`який, чутливий у ділянці шлунка, постукування з обох боків. Сечовипускання в нормі. Неврологічний статус без органічних порушень, балакучість і розуміння збережені.'),
  (4, 1, 'Скарги на болі в суглобах, шум в голові, легке запаморочення, загальну слабкість', 'У минулому хворіла на гіпертонію та ішемічну хворобу серця. Стан погіршився в останній місяць. Під час обстеження було виявлено анемію. Направлена на лікування в терапевтичний корпус.', 'Раніше перенесла хворобу Боткіна, туберкульоз легенів і венозне захворювання, але не страждає від цих захворювань на даний момент. Немає алергічних реакцій і трансфузій крові в минулому. В анамнезі є цукровий діабет, хронічний пієлонефрит.', 'Грудна клітка нормостенічна: Розміри грудної клітки відповідають нормі. ЧД 18 на хв.: Частота дихання 18 разів на хвилину. Перкусія легень: Перкуторний звук: При постукуванні по грудній клітці звук, який чується, є нормальним. У легенях дихання везикулярне: Звук дихання в легенях нормальний і схожий на шум шелесту. Межі відносної серцевої тупості в нормі: Розміри серця відповідають нормі. Пульс 78уд. за хв.: Частота серцевих скорочень 78 разів на хвилину. Артеріальний тиск 140/80 мм рт. ст. Тони приглушені, ритмічні.  Язик чистий, вологий.  Живіт м''який, б/болісний.  С-м постукування (-) з обох боків.  Неврологічний статус без органічної патології.  Набряків немає.'),
  (5, 2, 'Скарги на загальну слабкість, задишку при ходьбі, біль в животі, набряки на ногах, схуднення', 'у 2020 році пацієнтка отримувала лікування в гематологічному відділенні через виявлену анемію. Пацієнтка отримала переливання еритроцитної маси і була/була виписана/виписана з поліпшенням. За останні 2-3 тижні у пацієнтки погіршився стан. Направлена на лікування в терапевтичний корпус.', 'У пацієнтки є анамнез захворювання на гепатит А (хвороба Боткіна), тромбозів і венозних захворювань. Історія алергій відсутня, і пацієнтка не згодна на гемотрансфузії.', 'Стан пацієнтки середньої тяжкості. Свідомість ясна, поведінка адекватна, активна. Апетит підвищений. Кінцівки бліді, шкіра чиста. Лімфатичні вузли на периферії відчутні на дотик. Грудна клітка нормостенічна. Частота дихання - 19 ударів на хвилину. При перкусії легень - виходить перкуторний звук. При прослуховуванні легень дихання нечітке. Межі серцевої тупості в межах норми. Пульс - 82 удари на хвилину, артеріальний тиск - 125/80 мм рт. ст. Тони серця приглушені й ритмічні. Язик чистий і вологий. Живіт м''який, безболісний, при перкусії не виявлено позитивних симптомів. Сечовипускання нормальне. Неврологічний стан без патологій. Набряків немає.'),
  (6, 3, 'Скарги на загальну слабкість, задишку при ходьбі, сердцебиття, запаморочення', 'Пацієнт має рак товстої кишки, який поширився на печінку. Для відновлення рівня крові та полегшення стану, йому призначено проведення гемотрансфузії, яку він буде проходити в трансфузійному відділенні.', 'Хворів на хворобу Боткіна, мав тромбофлебіт, венозне захворювання заперечує. Алергічних реакцій не було, відмова від гемотрансфузії.', 'Середнього ступеня тяжкості стан. Свідомість ясна, поведінка адекватна, активне положення. Харчування задовільне. Шкірні покриття звичайного забарвлення. Периферичні лімфатичні вузли не пальпуються. Грудна клітка має нормальний розмір. Частота дихання 18 за хвилину. Під час перкусії легень - звук перкусії нормальний, дихання чутно везикулярне, але на правому боці є загасання. Відносна серцева тупість знаходиться в нормі. Пульс 80 ударів на хвилину, ритмічний, приглушений. Язик чистий, вологий. Живіт м''який, болючий при пальпації в правому підребер''ї, де розташоване пухлинне утворення. Симптоми перкусії в животі відсутні з обох боків. Сечовипускання нормальне. Неврологічний статус без органічних змін. Є набряк гомілок.'),
  (7, 1, 'Скарги на загальну слабкість, задишку при ходьбі, біль в животі, набряки на ногах, схуднення', 'Анамнестичне захворювання: Пацієнт страждає на хворобу серця та легень приблизно 20 років. В останній місяць його стан погіршився, проявилися посилені ознаки задишки, набряки на ногах і підвищення артеріального тиску. Його направлено на лікування в терапевтичне відділення.', 'Пацієнт раніше переніс туберкульоз, венозне захворювання заперечує. Немає алергічних реакцій на медикаменти. Також у його медичній історії значиться цукровий діабет другого типу, який триває близько 30 років.', 'Стан пацієнта середньої тяжкості. Свідомість ясна, поведінка адекватна, положення активне. Харчування підвищене. Шкірні покриви гіперемовані, набряк обличчя. Периферичні лімфовузли не пальпуються. Грудна клітка в нормальній формі, дихання прискорене до 21 разу на хвилину. При перкусії легень виявлено перкуторний кук у притупленні, звуки приглушені та ритмічні. Язик чистий і вологий. Живіт м''який, безболісний, постукування явищ не виявлено.'),
  (8, 2, 'Скарги на задишку при ходьбі, набряки на ногах, підвищення артеріального тиску, болі в області серця колючого характеру', ' Пацієнт хворіє на дефіцит заліза протягом понад 10 років, що призводить до анемії (зниження рівня червоних кров''яних клітин). Йому неодноразово переливали еритроцитну масу (компонент крові, який містить червоні кров''яні клітини). Остання гемотрансфузія була проведена 07.09.21 року. В останні 2 тижні стан здоров''я погіршився, і чоловік був направлений у терапевтичне відділення для госпіталізації.', 'Людина раніше хворіла на хворобу Боткіна (вірусний гепатит A). Вона також має історію ТВС і венозних захворювань. Алергічна реакція на ліки була відзначена в минулому, а також були проведені гемотрансфузії у 2020 і 2021 роках. В анамнезі також були вказані анкілозивний спондилоартрит (запальне захворювання суглобів) та інвалідність через ігрову травму.', 'Стан здоров''я середньої тяжкості. Свідомість ясна, поведінка адекватна. Людина обмежено активна, харчування знижене. Шкірні покриви бліді та чисті. Периферичні лімфовузли пальпуються. Грудна клітка деформована, частота дихання 20 на хвилину, звук під час перкусії легень везикулярний (природний звук легень). Межі відносної серцевої тупості в нормі. Пульс 88 ударів на хвилину, кров''яний тиск 140/80 мм рт. ст. Тони серця приглушені й ритмічні. Живіт м''який, помірно болючий в епігастрії (верхній частині живота). Постукування по животу не дало відхилень на обох боках. Сечовипускання без відхилень. Неврологічні функції не порушені. Набряків немає.'),
  (9, 3, 'Скарги на задишку при незначному фізичному навантаженні, набряки на ногах, загальну слабкість', 'Паціент тривалий час страждає підвищеним артеріальним тиском (ступінь 2), який останнім часом погіршився, а також з''явилися кашель і набряки, внаслідок чого направлено у терапевтичне відділення для госпіталізації.', 'В анамнезі також є хвороба Боткіна, але немає підтвердження туберкульозу або венозних захворювань. Алергічних реакцій не відзначено, а переливання крові не проводилося. Також є історія цукрового діабету, гангрени та ампутації пальця на лівій стопі 2017 року.', 'Пацієнт має середню тяжкість стану, ясну свідомість та адекватну поведінку. Положення активне, а харчування задовільне. Шкірні покриви бліді та чисті, а периферичні лімфовузли не пальпуються. Грудна клітка відповідає нормостенічному типу статури. Частота дихання 21 за хвилину, а під час прослуховування легень звук везикулярний, притуплення зліва і різке ослаблення в/і зліва. Межі відносної серцевої тупості в нормі. Частота пульсу 82 удари на хвилину, а артеріальний тиск 180/100 мм рт. ст. Тони серця приглушені й ритмічні, а живіт м''який і безболісний, зі збільшеною печінкою на 2-3 см. Постукування на животі не виявлено з обох боків. Сечовипускання в нормі, а неврологічний стан без органічних патологій. Є набряк на литковій ділянці, що поширюється до колін.'),
  (10, 1, 'Скарги на загальну слабкість, бистру втому, задишку при ходьбі, серцебиття, схуднення, запори.', 'Вважає себе хворою з грудня 2020р. після перенесеної короновірусної хвороби. Направлення в терапевтичне відділення на лікування.', 'Хвороба Боткіна відсутня, а також венозні захворювання. Немає історії алергічних реакцій або перенесених гемотрансфузій. Однак, є історія ішемічної хвороби серця. Також не спостерігається туберкульозна інфекція.', 'Пацієнт знаходиться в середньої ступені тяжкості, свідомість ясна, поведінка адекватна, а положення активне. Харчування знижене. Шкіра бліда, але чиста. Лімфатичні вузли на шиї не відчуваються. Грудна клітка має нормальний розмір. Частота дихання 17 на хвилину. Перкусійний звук легень нормальний. Звук дихання в легенях везикулярний. Розміри серця в межах норми. Пульс 72 удари в хвилину. Артеріальний тиск 110/70 мм рт.ст. Серцеві тони приглушені, але ритмічні. Язик чистий і вологий. Живіт м''який, без болю при пальпації вздовж товстої кишки. При постукуванні на обох сторонах симптом не виявлений. Сечовипускання нормальне. Неврологічний статус без ознак органічної патології. Набряків немає.'),
  (11, 2, 'Скарги на задишку при ходьбі, загальну слабкість, набряки на ногах, тяжкість в в/частині живота.', 'Задишка, слабкість турбує хвору останні 2-3міс., набряки на ногах різко побільшали в останній тиждень. Направлена в терапевтичне відділення на лікування.', 'Хвороба Боткіна. Тромбована вена середньої величини. Алергоанамнез (історія алергії) не показує жодних серйозних реакцій на алергени, а гемотрансфузії (переливання крові) не було. В анамнезі є хронічний гастродуоденіт (запалення шлунку і дванадцятипалої кишки) і операція, яка була проведена.', 'Стан хворого є середньої тяжкості. Свідомість чиста, поведінка адекватна, а положення активне. Харчування задовільне. Шкірні покриви бліді та чисті, периферичні лімфатичні вузли не пальпуються. Грудна клітка має нормальний розмір для даного стату та віку. Частота дихання становить 19 разів на хвилину, при перкусії легень виявляється перкуторний звук, а при аускультації слухається везикулярне дихання. Межі відносної серцевої тупості знаходяться в нормі. Пульс складає 88 ударів за хвилину, артеріальний тиск - 125/80 мм рт. ст. Тони серця приглушені та ритмічні. Язик обкладений сірим нальотом, але вологий. Живіт є м''яким та безболісним, а печінка збільшена на 1,0-1,5 см. Симптом постукування відсутній з обох сторін. Сечовипускання є в нормі, а неврологічний стан без органічної патології. Також спостерігаються набряки на гомілках до колін.'),
  (12, 3, 'Скарги на різку загальну слабкість, задишку при фізичному навантажені, серцебиття, набряки на ногах, збільшення в об''ємі живота.', 'Задишка, слабкість турбує на протязі останнього року. Стан погіршився в останні 1,5-2 місяців: посилилася задишка, з''явилися набряки на ногах, набряк ПЧС. Направлений в терапевтичне відділення ', 'Хвороба Боткіна. Тромбована вена середньої величини.  Пацієнтка не має венозних захворювань, історія алергій не складна. Відмовляється від гемотрансфузії (переливання крові). Є деякі питання щодо зору та історії хвороб. В 2019 році ця пацієнта переніс операцію з приводу гіперплазії передміхурової залози та має поліпоз шлунку.', 'Стан пацієнта середньої тяжкості. Свідомість чиста,  поведінка адекватна, а положення активне. Харчування збалансоване і задовільне. Шкірні покриви бліді і чисті. Периферичні лімфовузли не відчутні. Грудна клітина має нормальний типорозмір. Частота дихання складає 21 в хвилину. При перкусії легенів спостерігається перкуторний звук, а при прослуховуванні - везикулярне дихання, слабке на нижніх відділах легенів. Межі відносної серцевої тупості нормальні. Пульс дорівнює 108 ударів в хвилину, артеріальний тиск - 145/90 мм рт. ст. Тони серця приглушені, але присутній систолічний шум на верхівці серця, що характерно для так званої хвороби Боткіна. Живіт м''який, безболісний, проте збільшений за рахунок наповнення порожниною живота, набряк підшлункової залози. При ударі по животу перкуторний звук відсутній. Сечовипускання нормальне. Неврологічний статус без органічної патології. На ногах спостерігається набряк гомілок та стегон.'),
  (13, 1, 'Скарги на різку загальну слабкість, задишку при ходьбі, серцебиття', 'Пацієнт відчуває загальну слабкість та швидко втомлюється протягом останніх 6 місяців, але раніше не шукав медичної допомоги. Стан пацієнта погіршився, і тому його направили в лікарню на лікування. В минулому  мав гепатит А, туберкульоз, але пацієнт  заперечує, що має якісь проблеми зі статевими органами або венозною системою. У нього немає відомостей про алергічні реакції чи гемотрансфузії. В анамнезі також є травма правої гомілки 2002 року, нечасті простудні захворювання та хронічний геморой.', 'Хвороба Боткіна, ТВС, вен. захворювання заперечує. Аллергоанамнез не обтяжений, гемотрансфузії заперечує. В анамнезі травма правої гомілки 2002р., нечасті простудні захворювання, хр. геморой.',  'Пацієнт перебуває у середньо тяжкому стані. Свідомість чітка, а поведінка відповідає ситуації. Пацієнт активний, харчується задовільно. Його шкіра блідо-жовтушна та чиста, а лімфатичні вузли не пухкі. Грудна клітка має нормальний розмір. Частота дихання складає 20 ударів на хвилину, звук при перкусії легень є нормальним, а дихання в легенях везикулярне. Межі серцевої тупості є нормальними, а пульс становить 88 ударів на хвилину зі значенням артеріального тиску 120/80 мм рт. ст. Тони серця звучать приглушено і ритмічно. Язик чистий та вологий. Живіт м''який і безболісний, а печінка збільшена на 2-3 см. С-м постукування є негативним з обох сторін. Сечовипускання є нормальним, а неврологічний статус не виявляє органічних порушень. Набряків немає.'),
  (14, 2, 'Скарги на втрату свідомості.', 'Пацієнт вважає себе хворим 2 тижні зі з''явленням набряків ніг та задишки. 29 квітня 2022 року пацієнт втратив свідомість, після чого був доставлений до лікарні наступного дня, 30 квітня 2022 року, та оглянутий неврологом. У пацієнта не виявлено ознак ураження окремих частин тіла. Пацієнт госпіталізований в туберкульозний відділ. ' , 'У минулому пацієнт хворів на гепатит А, туберкульоз, венеричні захворювання, але наразі він заперечує наявність будь-яких захворювань. Пацієнт не має шкідливих звичок, не отримував гемотрансфузії. У минулому пацієнт переніс черепно-мозкову травму, а також перебував у МПВ у 90-х роках.', 'Пацієнт знаходиться у стані середньої тяжкості. Частота дихання становить 20 разів на хвилину. Свідомість ясна, а поведінка адекватна, але його положення обмежено активним. Харчування задовільне. Шкірні покриви бліді з множинними татуюваннями на тілі, губи бліді з наявністю ціанозу. Периферичні лімфатичні вузли не відчуваються. Грудна клітина має нормальний розмір. При перкусії легенів чутний перкуторний звук. Дихання у легенях везикулярне, але послаблене у верхніх ділянках. Межі відносної серцевої тупості знаходяться в межах норми. Пульс становить 84 удари на хвилину, а АТ - 130/80 мм рт. ст. Серцеві тони приглушені, але ритмічні. Язик обкладений білим нальотом, вологий. Живіт м''який і безболісний. Розмір печінки становить 2,0 см. При постукуванні на живіт з обох сторін спостерігається відсутність болю. Сечовипускання відсутнє, але випорожнення в нормі. Неврологічний статус пацієнта без органічних відхилень. На ногах спостерігається набряк.'),
  (15, 3, 'Скарги на задишку при незначному фізичному навантажені, схуднення.', 'Хворий стверджує, що хворіє на протяжі останніх кількох місяців, діагностовано правобічний підроторакс, направлений в ТВ на лікування', 'У анамнезі хвороба Боткіна, ТВС та венозні захворювання, алергічні реакції не спостерігалися, гемотрансфузії не проводилися.', 'За загальним станом хвороба середньої тяжкості, свідомість ясна, поведінка адекватна, а положення активне. Хворий має знижене харчування. Шкірні покриви мають звичайне забарвлення. Периферичні лімфовузли не пальпуються, а грудна стінка не нарізана. Частота дихання складає 21 на хвилину. При перкусії легень з середніх ділянок чути перкуторний звук, а з нижніх - притуплення. При прослуховуванні легенів на правій середній ділянці чутне везикулярне дихання, а на лівій середній і нижній ділянках - послаблене дихання. Межі відносної серцевої тупості в межах норми. Пульс складає 92 удари в хвилину, а артеріальний тиск - 130/80 мм рт. ст. Тони серця приглушені, а ритм правильний. Язик обкладений сірим нальотом, вологий. Живіт м''який, печінка має розмір 2-3 см і не болюча при постукуванні з обох сторін. Сечовипускання в нормі.'),
  (16, 1, 'Скарги на слабкість, задишку та запаморочення.', 'За кінець 2021 року було виявлено захворювання лівого сечоводу. Пацієнт отримував лікування органоспецифічними препаратами. Після курсу лікування рентгенотерапією стан погіршився. З цієї причини було направлено до стаціонару на лікування. ', 'Історія хвороби включає хворобу Боткіна, інфекцію сечоводу клітинної групи 2, а також хвороби вен відсутні. Пацієнт не має історії алергій та не отримував переливання крові. ', 'Стан хворого можна описати таким чином: він середньої тяжкості. Свідомість збережена, але положення хворого обмежено активне. Хворий може рухатися, але не дуже активно. Харчування задовільне. Шкірні покриви бліді та чисті, без ознак іржі чи інших ушкоджень. Лімфатичні вузли не збільшені. Грудна клітина має правильну форму. При прослуховуванні легенів відбувається нормальне дихання, а серцева робота знаходиться в межах норми. Пульс частотою один раз за секунду, кров''яний тиск становить 150/90 мм рт. ст. Серцеві тони слабкі, але ритмічні. Живіт м''який і дещо болючий, особливо в шостій ділянці. Печінка і селезінка не збільшені. Сечовиділення нормальне, випорожнення без проблем. На гомілках спостерігається набряк.'),
  (17, 2, 'Скарги на підвищення і тіла до 37,8°С, кашель з виділенням невеликої кількості мокротиння зеленого кольору.', 'Пацієнт  відчуває себе хворим на протязі останнього тижня, коли у нього підвищилася температура тіла та з''явився кашель. Направлено на лікування в терапевтичний відділ.', 'пацієнта мав хворобу Боткіна, ТВС, та венозну недостатність, він заперечує. Пацієнт не має складних алергічних реакцій, та не отримував гемотрансфузії.', 'Пацієнт знаходиться в задовільному стані. Свідомість чітка. Поведінка адекватна, положення активне, а харчування - задовільне. Шкіра має звичайне забарвлення, а лімфатичні вузли на периферії не пальпуються. Грудна клітка має нормальні розміри, а частота дихання - 17 в хвилину. При перкусії легень, вони мають перкуторний звук, а дихання жорстке з сухими хрипами на поверхні легенів. Межі відносної серцевої тупості знаходяться в нормі. Пульс - 70 ударів в хвилину, а АТ - 120/80 мм рт. ст. Тони серця приглушені та ритмічні. Язик чистий та вологий. Живіт м''який, але болісний з шостим ступенем болю. При постукуванні почувається біль з обох сторін. Сечопускання нормальне, а випорожнення теж. Неврологічний статус без органічної патології. Набряків не спостерігається.'),
  (18, 3, 'Скарги: на задишку в спокон, набряки на ногах, попереку, підвищення артеріального тиску.', 'Пацієнт має хронічну серцево-судинну недостатність та гіпертонію протягом тривалого часу. Раніше вона багато разів лікувалась з приводу серцевих та легеневих проблем і виписувалась з полегшенням. Однак протягом останнього тижня стан погіршився значно, з''явилися набряки на ногах та задишка.', 'Хвороба Боткіна, туберкульоз та венеричні захворювання відсутні. Алергічна реакція не спостерігалась, трансфузії крові не проводилися.', 'Стан хворої серйозний. Свідомість знижена. Хвора не може самостійно змінити своє положення. Її апетит зріс. Шкіра бліда та частої текстури. Лімфатичні вузли на шиї та пахвинах не пальпуються. Грудна клітка має нормальний розмір для даної фізіологічної статі. Частота дихання 22 в хвилину. При перкусії легень, звук є перкуторним, з притупленням в нижніх відділах. При аускультації легень, дихання є везикулярним, знижене в грудній клітці та глухе над серцем. Межі серцевої тупості є в нормі. Пульс 82 удари в хвилину, артеріальний тиск 180/100 мм рт. ст. Серцеві тони є глухими, ритмічні. Язик обкладений сірим нальотом. Живіт м''який, трохи болісний. Є набряк ПЧС. Симптом постукування є відсутнім з обох сторін. Сечовипускання є в нормі. Неврологічний статус без ознак органічної патології. Є набряки ніг, сідниць, попереку та статевих органів.');

  go

  CREATE TABLE Norms (
  id int IDENTITY(1,1) PRIMARY KEY,
  parameter_id int not null,
  gender nvarchar(1) not null,
  min_value float not null,
  max_value float not null
  CONSTRAINT FK_Norms_parameters FOREIGN KEY (parameter_id)
  REFERENCES Parameters(id)
);

go

INSERT INTO Norms (parameter_id,gender,min_value,max_value)
VALUES
  (1,  'ж', 120, 160  ),
  (1,  'ч', 130, 160  ),
  (2,  'ж', 3.9, 4.7  ),
  (2,  'ч', 4,   5    ),
  (3,  'ж', 4,   9    ),
  (3,  'ч', 4,   9    ),
  (4,  'ж', 1,   10   ),
  (4,  'ч', 2,   15   ),
  (5,  'ж', 0.5, 5    ),
  (5,  'ч', 0.5, 5    ),
  (6,  'ж', 1  , 6    ),
  (6,  'ч', 1  , 6    ),
  (7,  'ж', 47,  72   ),
  (7,  'ч', 47,  72   ),
  (8,  'ж', 19,  37   ),
  (8,  'ч', 19,  37   ),
  (9,  'ж', 3,   11   ),
  (9,  'ч', 3,   11   ),
  (10, 'ж', 3.3, 6.1  ),
  (10, 'ч', 3.3, 6.1  ),
  (11, 'ж', 3.5, 5.2  ),
  (11, 'ч', 3.5, 5.2  ),
  (12, 'ж', 0,   18.81),
  (12, 'ч', 0,   18.81),
  (13, 'ж', 0,   4.27 ),
  (13, 'ч', 0,   4.27 ),
  (14, 'ж', 0,   14.54),
  (14, 'ч', 0,   14.54),
  (15, 'ж', 7,   40   ),
  (15, 'ч', 7,   40   ),
  (16, 'ж', 10,  30   ),
  (16, 'ч', 10,  30   ),
  (17, 'ж', 53,  97   ),
  (17, 'ч', 80,  115  ),
  (18, 'ж', 2.1, 8.2  ),
  (18, 'ч', 2.1, 8.2  ),
  (19, 'ж', 120, 129  ),
  (19, 'ч', 120, 129  ),
  (20, 'ж', 80,  84   ),
  (20, 'ч', 80,  84   ),
  (21, 'ж', 70,  85   ),
  (21, 'ч', 60,  90   )

go

CREATE TABLE Roles (
  id int IDENTITY(1,1) PRIMARY KEY,
  name nvarchar(max) not null
);

go

INSERT INTO Roles (name)
VALUES
  ('Administrator'),
  ('Patient'),
  ('Doctor')

go

CREATE TABLE Users (
  id int IDENTITY(1,1) PRIMARY KEY,
  email nvarchar(30) not null,
  password nvarchar(30) not null,
  patient_id int,
  doctor_id int,
  role_id int not null,
  
  CONSTRAINT FK_role FOREIGN KEY (role_id)
  REFERENCES Roles(id),
  CONSTRAINT FK_patient FOREIGN KEY (patient_id)
  REFERENCES Patients(id),
  CONSTRAINT FK_doctor FOREIGN KEY (doctor_id)
  REFERENCES Doctors(id),
  CONSTRAINT unique1 unique (email),
--  CONSTRAINT unique2 unique (patient_id), 
--  CONSTRAINT unique3 unique (doctor_id),
--  CREATE UNIQUE NONCLUSTERED INDEX idx_patient_id
--	ON Users(patient_id)
--	WHERE patient_id IS NOT NULL;
);

go

INSERT INTO Users (email, password, patient_id, doctor_id, role_id)
VALUES
('akinshcheva.m.o@gmail.com', 	'P@ssw0rd123', 				null, 	1, 		3),
('kovalchuk.o.m@gmail.com', 	'Password456', 				null, 	2, 		3),
('petrov.o.i@gmail.com',		'SecurePass789', 			null, 	3, 		3),
('abram.i.p@gmail.com',			'Passw0rd1234', 			1, 		null, 	2),
('huk.p.y@gmail.com', 			'MyP@ssword123', 			2, 		null, 	2),
('kravchenko.o.f@gmail.com', 	'SecretP@ssw0rd', 			3, 		null, 	2),
('vovk.m.v@gmail.com', 			'StrongPassword123', 		4, 		null, 	2),
('demchenko.o.m@gmail.com', 	'MySecureP@ssword', 		5, 		null, 	2),
('pavliuk.i.a@gmail.com', 		'P@ssword12345', 			6, 		null, 	2),
('humenyuk.o.i@gmail.com', 		'SecureP@ssw0rd123', 		7, 		null, 	2),
('kozak.v.v@gmail.com', 		'VerySecureP@ssw0rd', 		8, 		null, 	2),
('karpenko.i.p@gmail.com', 		'SuperSecureP@ss123', 		9, 		null, 	2),
('kruglova.o.p@gmail.com', 		'UltraSecureP@ssword123', 	10, 	null, 	2),
('verkhov.m.g@gmail.com', 		'MyS3cur3Passw0rd', 		11, 	null, 	2),
('schebrets.a.a@gmail.com', 	'P@ssword123456', 			12, 	null, 	2),
('sukhyi.i.f@gmail.com', 		'S3cur3P@ssw0rd789', 		13, 	null, 	2),
('rudnyi.o.m@gmail.com', 		'P@ssword123!', 			14, 	null, 	2),
('bogdan.i.p@gmail.com', 		'P@sswordSecret789', 		15, 	null, 	2),
('vaksov.i.y@gmail.com', 		'MyP@sswordVerySecure', 	16, 	null, 	2),
('makk.s.y@gmail.com', 			'MysuperP@ssw0rd' , 		17, 	null, 	2),
('kachupenko.v.s@gmail.com',	'MyP@sswordUltraSecure', 	18, 	null, 	2),
('example1@email.com', 			'12345', 					null, 	null, 	1);

go

create or alter procedure updatePatient
	@id int,
	@surname nvarchar(25),
	@name nvarchar(25),
	@patronymic nvarchar(25),
	@dob date,
	@gender nvarchar(1),
	@phone nvarchar(20),
	@address nvarchar(50),
	@emergency_contact_surname nvarchar(25),
	@emergency_contact_name nvarchar(25),
	@emergency_contact_patronymic nvarchar(25),
	@emergency_contact_phone nvarchar(20)
as 
begin
	update Patients
	set surname = @surname,
		name = @name,
		patronymic = @patronymic,
		dob = @dob,
		gender = @gender,
		phone = @phone,
		address = @address,
		emergency_contact_surname = @emergency_contact_surname,
		emergency_contact_name = @emergency_contact_name,
		emergency_contact_patronymic = @emergency_contact_patronymic,
		emergency_contact_phone = @emergency_contact_phone
	where id = @id
end

go

--exec updatePatient 1, 1,'11111111','1','1','1','1','1'

go

create or alter procedure updateDoctor
	@id int,
	@years_of_experience int,
	@record_number nvarchar(10),
	@surname nvarchar(25),
    @name nvarchar(25),
    @patronymic nvarchar(25),
    @qualifications nvarchar(50),
	@current_position nvarchar(30),
	@education nvarchar(30),
	@contact_phone nvarchar(20)
as 
begin
	update Doctors
	set years_of_experience = @years_of_experience,
		record_number = @record_number,
		surname = @surname,
		name = @name,
		patronymic = @patronymic,
		qualifications = @qualifications,
		current_position = @current_position,
		education = @education,
		contact_phone = @contact_phone
	where id = @id
end

go

--exec updateDoctor 1, 1,'1','1','1','1','1','1','1','1','1'

go

create or alter procedure InsertGeneralBloodTest
	@patient_id int,
	@date_of_check date,
	@hemoglobin_count float,
	@red_blood_cells_count float,
	@hematocrit_level float,
	@white_blood_cells_count float,
	@erythrocyte_sedimentation_rate_count float,
	@band_neutrophils_coun float,
	@segmented_neutrophils_count float,
	@lymphocytes_count float,
	@monocytes_count float
as 
begin
	INSERT INTO PatientsParameters (patient_id, parameter_id, value, date_of_check)
	VALUES
  (@patient_id, 1, @hemoglobin_count,						@date_of_check),
  (@patient_id, 2, @red_blood_cells_count,					@date_of_check),
  (@patient_id, 3, @hematocrit_level,						@date_of_check),
  (@patient_id, 4, @white_blood_cells_count,				@date_of_check),
  (@patient_id, 5, @erythrocyte_sedimentation_rate_count,	@date_of_check),
  (@patient_id, 6, @band_neutrophils_coun,					@date_of_check),
  (@patient_id, 7, @segmented_neutrophils_count,			@date_of_check),
  (@patient_id, 8, @lymphocytes_count,						@date_of_check),
  (@patient_id, 9, @monocytes_count,						@date_of_check)

end

go

create or alter procedure InsertBloodGlucose
	@patient_id int,
	@date_of_check date,
	@blood_glucose_level float
as 
begin
	INSERT INTO PatientsParameters (patient_id, parameter_id, value, date_of_check)
	VALUES
	(@patient_id, 10, @blood_glucose_level, @date_of_check)

end
go

create or alter procedure InsertBloodCholesterol
	@patient_id int,
	@date_of_check date,
	@blood_cholesterol_level float
as 
begin
	INSERT INTO PatientsParameters (patient_id, parameter_id, value, date_of_check)
	VALUES
  (@patient_id, 11, @blood_cholesterol_level, @date_of_check)

end

go

create or alter procedure InsertBiochemicalBloodAnalysis
	@patient_id int,
	@date_of_check date,
	@total_bilirubin float,
	@direct_bilirubin float,
	@indirect_bilirubin float,
	@alanine_aminotransferase float,
	@aspartate_aminotransferase float,
	@creatinine_level float,
	@urine_level float
as 
begin
	INSERT INTO PatientsParameters (patient_id, parameter_id, value, date_of_check)
	VALUES
  (@patient_id, 12, @total_bilirubin,				@date_of_check),
  (@patient_id, 13, @direct_bilirubin,				@date_of_check),
  (@patient_id, 14, @indirect_bilirubin,			@date_of_check),
  (@patient_id, 15, @alanine_aminotransferase,		@date_of_check),
  (@patient_id, 16, @aspartate_aminotransferase,	@date_of_check),
  (@patient_id, 17, @creatinine_level,				@date_of_check),
  (@patient_id, 18, @urine_level,					@date_of_check)

end

go

create or alter procedure InsertBloodPressure
	@patient_id int,
	@date_of_check date,
	@systolic_pressure float,
	@diastolic_pressure float,
	@pulse_rate float
as 
begin
	INSERT INTO PatientsParameters (patient_id, parameter_id, value, date_of_check)
	VALUES
  (@patient_id, 19, @systolic_pressure,		@date_of_check),
  (@patient_id, 20, @diastolic_pressure,	@date_of_check),
  (@patient_id, 21, @pulse_rate,			@date_of_check)

end

go

create or alter procedure RegisterDoctor
	@years_of_experience int,
    @record_number nvarchar(10),
	@surname nvarchar(25),
    @name nvarchar(25),
    @patronymic nvarchar(25),
    @qualifications nvarchar(50),
    @current_position nvarchar(30),
    @education nvarchar(30),
    @contact_phone nvarchar(20),
	@email nvarchar(30),
	@password nvarchar(30)
as
begin
SET XACT_ABORT, NOCOUNT ON
	begin transaction
	declare @id TABLE ([id] int)
	INSERT INTO Doctors (years_of_experience, record_number, surname, name, patronymic, qualifications, current_position, education, contact_phone)
	output Inserted.ID INTO @id
	VALUES
	(@years_of_experience, @record_number, @surname, @name, @patronymic, @qualifications, @current_position, @education, @contact_phone)
	INSERT INTO Users (email, password, role_id, doctor_id)
	VALUES
	(@email, @password, 3, (select top 1 id from @id))
	commit		
end
go

create or alter procedure RegisterPatient
	@surname nvarchar(25),
	@name nvarchar(25),
	@patronymic nvarchar(25),
	@dob DATE,
	@gender nvarchar(1),
	@phone nvarchar(20),
	@address nvarchar(50),
	@emergency_contact_surname nvarchar(25),
	@emergency_contact_name nvarchar(25),
	@emergency_contact_patronymic nvarchar(25),
	@emergency_contact_phone nvarchar(20),
	@doctor_id int,
	@email nvarchar(30),
	@password nvarchar(30)
as 
begin
SET XACT_ABORT, NOCOUNT ON
	begin transaction
	declare @id TABLE ([id] int)
	INSERT INTO Patients (surname, name, patronymic, dob, gender, phone, address, emergency_contact_surname, emergency_contact_name, emergency_contact_patronymic, emergency_contact_phone, doctor_id)
	output Inserted.ID INTO @id
	VALUES
	(@surname, @name, @patronymic, @dob, @gender, @phone, @address, @emergency_contact_surname, @emergency_contact_name, @emergency_contact_patronymic, @emergency_contact_phone, @doctor_id)
	INSERT INTO Users (email, password, role_id, patient_id)
	VALUES
	(@email, @password, 2, (select top 1 id from @id))
	commit		
end

go

/*
create or alter procedure DeletePatient
	@id int
as 
begin
delete Users
where patient_id = @id;
delete PatientsParameters
where patient_id = @id;
delete Appointments
where patient_id = @id;
delete Medications
where patient_id = @id;
delete MedicalConditions
where patient_id = @id;
delete Patients
where id = @id;
end
go
*/

--exec RegisterPatient 1, ""11111111"", 1, 1, 1, 1, 1, 1 , 1 , 1
--exec RegisterDoctor 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
--exec DeletePatient 1

go
create or alter procedure getSimillarDiagnoses @patient_id INT
as 
begin
select appointment_id,
cast (SUM(match_normal) as float)/count(match_normal) as match_count
from (
	select appointment_id, query_all.parameters_id,
		case when query_all.is_normal=query_current.is_normal then 1
		else 0
		end as match_normal
	from (
		select Appointments.id as appointment_id, Parameters.id as parameters_id,
			case when PatientsParameters.value<Norms.min_value then -1
			when PatientsParameters.value>Norms.max_value then 1 
			else 0
			end as is_normal
		from Patients
			join Appointments on Patients.id = Appointments.patient_id
			join PatientsParameters on Patients.id = PatientsParameters.patient_id
			join Parameters on PatientsParameters.parameter_id = Parameters.id
			join Norms on Parameters.id = Norms.parameter_id
			join (
				select appointment_id, parameters_id, PatientsParameters_id
				from (
					select appointment_id, parameters_id, max(PatientsParameters.id) as PatientsParameters_id 
					from (
						select appointment_id, Patients_id, parameters_id, min(max_date) as max_date
						from (
							select Appointments.id as appointment_id,Patients.id as Patients_id, Parameters.id as parameters_id, max(PatientsParameters.date_of_check) as max_date from Patients
							join Appointments on Patients.id = Appointments.patient_id
							join PatientsParameters on Patients.id = PatientsParameters.patient_id
							join Parameters on PatientsParameters.parameter_id = Parameters.id
							where Patients.id <> @patient_id
							and PatientsParameters.date_of_check <= Appointments.treatment_date
							group by Appointments.id, Patients.id, Parameters.id
							union
							select Appointments.id as appointment_id,Patients.id as Patients_id, Parameters.id as parameters_id, max(PatientsParameters.date_of_check) as max_date from Patients
							join Appointments on Patients.id = Appointments.patient_id
							join PatientsParameters on Patients.id = PatientsParameters.patient_id
							join Parameters on PatientsParameters.parameter_id = Parameters.id
							where Patients.id <> @patient_id
							group by Appointments.id, Patients.id, Parameters.id
							) as query
						group by appointment_id, Patients_id, parameters_id
						)as query
					join PatientsParameters on PatientsParameters.date_of_check = max_date and parameters_id = PatientsParameters.parameter_id and PatientsParameters.patient_id = Patients_id
					group by appointment_id, parameters_id
					)as query
				)as query on PatientsParameters.id = query.PatientsParameters_id
				where Norms.gender = Patients.gender
			) as query_all
	
		right join 
	
			(
				select parameters_id,
					case when PatientsParameters.parameter_id<Norms.min_value then -1
					when PatientsParameters.parameter_id>Norms.max_value then 1 
					else 0
					end as is_normal
				from Patients
					join PatientsParameters on Patients.id = PatientsParameters.patient_id
					join Parameters on PatientsParameters.parameter_id = Parameters.id
					join Norms on Parameters.id = Norms.parameter_id
					join
				(
					select parameters_id, max(PatientsParameters.id) as PatientsParameters_id 
					from (
						select Parameters.id as parameters_id, max(PatientsParameters.date_of_check) as max_date from Patients
							join Appointments on Patients.id = Appointments.patient_id
							join PatientsParameters on Patients.id = PatientsParameters.patient_id
							join Parameters on PatientsParameters.parameter_id = Parameters.id
						where Patients.id = @patient_id
						group by Parameters.id
						) as query
					join PatientsParameters on PatientsParameters.date_of_check = max_date and parameters_id = PatientsParameters.parameter_id
					group by parameters_id
					) as query
				on PatientsParameters.id = query.PatientsParameters_id
				where Norms.gender = Patients.gender
			) as query_current on query_all.parameters_id = query_current.parameters_id
			where query_all.is_normal <> 0 or query_current.is_normal <> 0
		) as matches
	group by appointment_id
	order by match_count desc
end
go

--exec getSimillarDiagnoses 1

go

create or alter trigger DeletePatient on Patients
instead of delete
as
begin
	delete Users
	where patient_id in (select deleted.id from deleted);
	delete PatientsParameters
	where patient_id in (select deleted.id from deleted);
	delete Appointments
	where patient_id in (select deleted.id from deleted);
	delete Medications
	where patient_id in (select deleted.id from deleted);
	delete MedicalConditions
	where patient_id in (select deleted.id from deleted);
	delete Patients
	where id in (select deleted.id from deleted);
end
go
/*
delete Patients where id=1;
*/
go

create or alter trigger doctor_phone on Doctors
after insert, update
as
begin
	if ((select top 1 count(1) from (select * from Doctors union select * from inserted) as query
	group by contact_phone
	order by count(1) desc) > 1)
	begin
		print('У декількох лікарів не може бути один телефон');
		rollback
	end
end

go
/*
 INSERT INTO Doctors (years_of_experience, record_number, name, qualifications,  current_position, education, contact_email, contact_phone)
VALUES 
(5, 'REC-121', 'Акіншева Марина Олексіївна', 'Cертифікований терапевт', 'Терапевт', 'Медичний інститут', 'akinshew@email.com', '0674015')
*/
go

";

            StringBuilder sb = new StringBuilder(sql);
            foreach (Match item in Regex.Matches(sb.ToString(), "'[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]'").OrderByDescending(x => x.Index))
            {
                sb.Remove(item.Index + 8, 1).Remove(item.Index + 5, 1);
            }
            foreach (Match item in Regex.Matches(sql, "'[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9]'").OrderByDescending(x => x.Index))
            {
                sb[item.Index + 11] = 'T';
                sb.Remove(item.Index + 8, 1).Remove(item.Index + 5, 1);
            }
            foreach (Match item in Regex.Matches(sb.ToString(), "'[0-9][0-9]-[0-9][0-9]-[0-9][0-9][0-9][0-9]'").OrderByDescending(x => x.Index))
            {
                string date = new string(new char[] { sb[item.Index + 7], sb[item.Index + 8], sb[item.Index + 9], sb[item.Index + 10], sb[item.Index + 4], sb[item.Index + 5], sb[item.Index + 1], sb[item.Index + 2] });
                sb.Remove(item.Index + 1, 10);
                sb.Insert(item.Index + 1, date);
            }
            foreach (Match item in Regex.Matches(sb.ToString(), @"\/\*[\s\S]*?\*\/").OrderByDescending(x => x.Index))
            {
                sb.Remove(item.Index, item.Length);
            }
            int start = -1;
            for (int i = sb.Length - 1; i > -1; i--)
            {
                if (sb[i] == '\'')
                {
                    if (sb[i - 1] == '\'')
                    {
                        i--;
                    }
                    else if (start == -1)
                    {
                        start = i;
                    }
                    else
                    {
                        if (!(Regex.IsMatch(sb.ToString().Substring(i, start - i + 1), "'[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]'") || Regex.IsMatch(sb.ToString().Substring(i, start - i + 1), "'[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]'")))
                        {
                            sb.Insert(i, 'N');
                        }
                        start = -1;
                    }
                }
            }

            sql = sb.ToString();
            //Console.WriteLine("\n\n" + sql + "\n\n");
            string DropTables = @"DECLARE @Sql NVARCHAR(500) DECLARE @Cursor CURSOR

SET @Cursor = CURSOR FAST_FORWARD FOR
SELECT DISTINCT sql = 'ALTER TABLE [' + tc2.TABLE_SCHEMA + '].[' +  tc2.TABLE_NAME + '] DROP [' + rc1.CONSTRAINT_NAME + '];'
FROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS rc1
LEFT JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS tc2 ON tc2.CONSTRAINT_NAME =rc1.CONSTRAINT_NAME

OPEN @Cursor FETCH NEXT FROM @Cursor INTO @Sql

WHILE (@@FETCH_STATUS = 0)
BEGIN
Exec sp_executesql @Sql
FETCH NEXT FROM @Cursor INTO @Sql
END

CLOSE @Cursor DEALLOCATE @Cursor
go

EXEC sp_MSforeachtable 'DROP TABLE ?'";
            foreach (var item in Regex.Split(DropTables, "\r\n[ ]*go[ ]*\r\n"))
            {
                try
                {
                    db.Database.ExecuteSqlRaw(item);
                }
                catch (Microsoft.Data.SqlClient.SqlException e)
                {
                    Console.WriteLine(e.Message);
                }
            }
            foreach (var item in Regex.Split(sql, "\r\n[ ]*go[ ]*\r\n", RegexOptions.IgnoreCase))
            {
                if (item != "")
                {
                    try
                    {
                        db.Database.ExecuteSqlRaw(item);
                    }
                    catch (Microsoft.Data.SqlClient.SqlException e)
                    {
                        Console.WriteLine(e.Message);
                    }
                }
            }

			try
			{
                db.Database.ExecuteSqlRaw($"update Doctors set photo = BulkColumn from Openrowset( Bulk '{AppContext.BaseDirectory}wwwroot\\images\\reset\\1.1.png', Single_Blob) as Picture \r\n where id = 1");
                db.Database.ExecuteSqlRaw($"update Doctors set photo = BulkColumn from Openrowset( Bulk '{AppContext.BaseDirectory}wwwroot\\images\\reset\\1.2.png', Single_Blob) as Picture \r\n where id = 2");
                db.Database.ExecuteSqlRaw($"update Doctors set photo = BulkColumn from Openrowset( Bulk '{AppContext.BaseDirectory}wwwroot\\images\\reset\\1.3.png', Single_Blob) as Picture \r\n where id = 3");
            }
            catch (Exception)
			{
				Console.WriteLine("error with images");
			}
        }
    }
}
